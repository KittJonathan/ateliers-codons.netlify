---
title: "Introduction à GitLab"
subtitle: "Connecter RStudio à GitLab et assurer le suivi de version"
author:
  - Jonathan Kitt
date: "2022-11-21"
draft: true
categories: [R, RStudio, GitLab]
format: 
  html: 
    toc: true
    toc-depth: 2
    toc-title: "Sommaire"
---

# Introduction

## Git, GitLab et suivi de version

## Pré-requis

### Installer git

Sur le site de [git](https://git-scm.com/downloads), téléchargez la dernière version pour votre système d'exploitation.

![](img/git_01.png){width="100%"}

![](img/git_02.png){width="100%"}

Double-cliquez sur l'exécutable `Git-xxxx.exe` :

![](img/git_03.png){width="100%"}

Laissez les paramètres par défaut proposés par l'assistant d'installation. Dans le menu *Choosing the default editor used by Git*, vous pouvez laisser l'éditeur de texte proposé par défaut (Vim) ou choisir l'éditeur de texte que vous avez l'habitude d'utiliser.

![](img/git_04.png){width="50%"}

Dans les menus suivants, laissez les paramètres suivants jusqu'à ce que l'installation de `git` soit complétée.

### Paramétrer RStudio

Ouvrez une session dans RStudio, puis cliquez sur *Tools* \> *Global Options* \> *Git/SVN*.

![](img/git_06.png){width="50%"}

1. Assurez-vous que la case *Enable version control interface for RStudio projects* est cochée.  

2. Assurez-vous que le chemin vers l'exécutable `git` est bien renseigné. Le cas échéant, cliquez sur *Browse* et indiquez le chemin vers son emplacement.

3. Si aucune clé SSH n'est indiquée, cliquez sur *Create RSA Key...*.  

4. Validez en cliquant sur *Apply*.

<br>

Cliquez sur *View public key* et copiez la clé qui s'affiche.

### Paramétrer GitLab

Ouvrez [ce lien](https://forgemia.inra.fr) dans votre navigateur internet et cliquez sur *Connexion SSO*.

![](img/git_07.png){width="50%"}

Dans le menu déroulant, choisissez *INRAE* et cliquez sur *Sélectionner*. Dans le menu suivant, renseignez les champs à l'aide de votre identifiant LDAP puis cliquez sur *Se connecter*.

::: {layout-ncol=2}

![](img/git_08.png){width="50%"}

![](img/git_09.png){width="50%"}

:::

<br>

Cliquez sur l'icône dans le coin supérieur droit puis sur *Preferences*.

![](img/git_10.png){width="50%"}

Dans la barre de menu à gauche, cliquez sur la première icône en forme de clé. Collez dans le champ *Key* la clé SSH copiée dans RStudio. Le champ *Title* devrait se remplir automatiquement. Si ce n'est pas le cas, renseignez ce champ. Vous pouvez choisir une date d'expiration de votre clé dans *Expiration date*. Pour terminer, cliquez sur *Add key*. Assurez-vous que votre clé apparaisse bien en base de la page sous *Your SSH keys*.

![](img/git_11.png)

# De GitLab vers RStudio

Dans la barre de menu supérieure, cliquez sur l'icône *plus* et sélectionnez *New project/repository*.
Dans le menu suivant, choisissez *Create blank project*.

::: {layout-ncol=2}

![](img/git_12.png){width="50%"}

![](img/git_13.png){width="50%"}

:::