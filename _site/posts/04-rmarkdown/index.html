<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.36">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="John Godlee">
<meta name="author" content="Jonathan Kitt (adaptation)">
<meta name="dcterms.date" content="2022-10-24">

<title>Ateliers codons - Introduction à RMarkdown</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Ateliers codons</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/codons-blog/"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/AteliersCodons/"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Introduction à RMarkdown</h1>
            <p class="subtitle lead">Utiliser RMarkdown pour rédiger des rapports</p>
                                <div class="quarto-categories">
                <div class="quarto-category">R</div>
                <div class="quarto-category">RStudio</div>
                <div class="quarto-category">Tidyverse</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Authors</div>
      <div class="quarto-title-meta-contents">
               <p>John Godlee </p>
               <p>Jonathan Kitt (adaptation) </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 24, 2022</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Sommaire</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#quest-ce-que-r-markdown" id="toc-quest-ce-que-r-markdown" class="nav-link" data-scroll-target="#quest-ce-que-r-markdown">Qu’est-ce que R Markdown ?</a></li>
  <li><a href="#pré-requis" id="toc-pré-requis" class="nav-link" data-scroll-target="#pré-requis">Pré-requis</a></li>
  </ul></li>
  <li><a href="#créer-un-document-r-markdown" id="toc-créer-un-document-r-markdown" class="nav-link" data-scroll-target="#créer-un-document-r-markdown">Créer un document R Markdown</a>
  <ul class="collapse">
  <li><a href="#ouvrir-un-nouveau-fichier-r-markdown" id="toc-ouvrir-un-nouveau-fichier-r-markdown" class="nav-link" data-scroll-target="#ouvrir-un-nouveau-fichier-r-markdown">Ouvrir un nouveau fichier R Markdown</a></li>
  <li><a href="#ajouter-un-en-tête" id="toc-ajouter-un-en-tête" class="nav-link" data-scroll-target="#ajouter-un-en-tête">Ajouter un en-tête</a></li>
  <li><a href="#compiler-un-document-r-markdown" id="toc-compiler-un-document-r-markdown" class="nav-link" data-scroll-target="#compiler-un-document-r-markdown">Compiler un document R Markdown</a></li>
  </ul></li>
  <li><a href="#les-bases-de-r-markdown" id="toc-les-bases-de-r-markdown" class="nav-link" data-scroll-target="#les-bases-de-r-markdown">Les bases de R Markdown</a>
  <ul class="collapse">
  <li><a href="#insérer-des-titres" id="toc-insérer-des-titres" class="nav-link" data-scroll-target="#insérer-des-titres">Insérer des titres</a></li>
  <li><a href="#insérer-une-ligne-horizontale" id="toc-insérer-une-ligne-horizontale" class="nav-link" data-scroll-target="#insérer-une-ligne-horizontale">Insérer une ligne horizontale</a></li>
  <li><a href="#mettre-en-forme-le-texte" id="toc-mettre-en-forme-le-texte" class="nav-link" data-scroll-target="#mettre-en-forme-le-texte">Mettre en forme le texte</a></li>
  <li><a href="#insérer-du-texte-au-format-code" id="toc-insérer-du-texte-au-format-code" class="nav-link" data-scroll-target="#insérer-du-texte-au-format-code">Insérer du texte au format code</a></li>
  <li><a href="#insérer-un-lien" id="toc-insérer-un-lien" class="nav-link" data-scroll-target="#insérer-un-lien">Insérer un lien</a></li>
  <li><a href="#insérer-des-listes" id="toc-insérer-des-listes" class="nav-link" data-scroll-target="#insérer-des-listes">Insérer des listes</a></li>
  <li><a href="#insérer-un-tableau" id="toc-insérer-un-tableau" class="nav-link" data-scroll-target="#insérer-un-tableau">Insérer un tableau</a></li>
  <li><a href="#insérer-une-citation" id="toc-insérer-une-citation" class="nav-link" data-scroll-target="#insérer-une-citation">Insérer une citation</a></li>
  <li><a href="#notation-mathématique" id="toc-notation-mathématique" class="nav-link" data-scroll-target="#notation-mathématique">Notation mathématique</a></li>
  <li><a href="#equation-mathématique" id="toc-equation-mathématique" class="nav-link" data-scroll-target="#equation-mathématique">Equation mathématique</a></li>
  <li><a href="#insérer-une-image" id="toc-insérer-une-image" class="nav-link" data-scroll-target="#insérer-une-image">Insérer une image</a></li>
  </ul></li>
  <li><a href="#rédiger-un-document-de-façon-dynamique" id="toc-rédiger-un-document-de-façon-dynamique" class="nav-link" data-scroll-target="#rédiger-un-document-de-façon-dynamique">Rédiger un document de façon dynamique</a>
  <ul class="collapse">
  <li><a href="#insérer-un-bloc-de-code-r" id="toc-insérer-un-bloc-de-code-r" class="nav-link" data-scroll-target="#insérer-un-bloc-de-code-r">Insérer un bloc de code R</a></li>
  <li><a href="#insérer-du-code" id="toc-insérer-du-code" class="nav-link" data-scroll-target="#insérer-du-code">Insérer du code</a></li>
  </ul></li>
  <li><a href="#transformer-un-script-en-.rmd" id="toc-transformer-un-script-en-.rmd" class="nav-link" data-scroll-target="#transformer-un-script-en-.rmd">Transformer un script en .Rmd</a>
  <ul class="collapse">
  <li><a href="#introduction-1" id="toc-introduction-1" class="nav-link" data-scroll-target="#introduction-1">Introduction</a></li>
  <li><a href="#importer-les-données" id="toc-importer-les-données" class="nav-link" data-scroll-target="#importer-les-données">Importer les données</a></li>
  <li><a href="#explorer-et-nettoyer-les-données" id="toc-explorer-et-nettoyer-les-données" class="nav-link" data-scroll-target="#explorer-et-nettoyer-les-données">Explorer et nettoyer les données</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p><em>Ce tutoriel est adapté de <a href="https://ourcodingclub.github.io/tutorials/rmarkdown/">Getting started with R Markdown</a> du site <a href="https://ourcodingclub.github.io/">Our Coding Club</a>.</em></p>
<p><br></p>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<section id="quest-ce-que-r-markdown" class="level2">
<h2 class="anchored" data-anchor-id="quest-ce-que-r-markdown">Qu’est-ce que R Markdown ?</h2>
<p>R Markdown vous permet de créer des documents, notamment des rapports de vos analyses. Les personnes qui liront votre code doivent pouvoir facilement comprendre et reproduire votre analyse : c’est la reproductibilité.</p>
<p>Vous pouvez créer un document R Markdown et le partager, ou vous en servir à titre personnel pour garder une trace des étapes et des résultats d’une analyse.</p>
<p>R Markdown permet d’afficher le code utilisé et les résultats obtenus (graphiques, tables, …) ainsi que des commentaires explicatifs, un peu à la manière d’un cahier de laboratoire.</p>
<p>R Markdown utilise la syntaxe Markdown, un langage <em>markup</em> qui propose des outils pour créer des documents avec des en-têtes, des images, des liens, …</p>
<p>Un document Markdown peut être converti en différents formats comme du <em>html</em> ou du <em>pdf</em>.</p>
<p>Lorsque vous créez un fichier R Markdown (<code>.Rmd</code>), vous utiliserez la syntaxe Markdown aux côtés de blocs de code écrits en R (ou d’autres langages de programmation). Ce fichier est ensuite compilé : le format Markdown et le code sont évalués, et un fichier de sortie (<code>html</code>, <code>pdf</code>, …) est généré.</p>
<p><img src="img/horst_rmd.png" class="img-fluid" style="width:50.0%"></p>
<p><br></p>
</section>
<section id="pré-requis" class="level2">
<h2 class="anchored" data-anchor-id="pré-requis">Pré-requis</h2>
<p>Si vous n’avez pas suivi les autres tutoriels, vous pouvez <a href="https://ateliers-codons.netlify.app/posts/02-premiers-pas-avec-r/#créer-un-projet">créer un projet RStudio</a> et <a href="https://ateliers-codons.netlify.app/posts/02-premiers-pas-avec-r/#créer-une-arborescence">une arborescence</a>.</p>
<p>Pour utiliser RMarkdown dans RStudio, installez et chargez le package <code>rmarkdown</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"rmarkdown"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rmarkdown)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="créer-un-document-r-markdown" class="level1">
<h1>Créer un document R Markdown</h1>
<section id="ouvrir-un-nouveau-fichier-r-markdown" class="level2">
<h2 class="anchored" data-anchor-id="ouvrir-un-nouveau-fichier-r-markdown">Ouvrir un nouveau fichier R Markdown</h2>
<p>Pour créer un nouveau document R Markdown (.RMd), cliquez sur <em>File &gt; New File &gt; R Markdown …</em>. Vous pouvez également cliquer sur le symbole <em>Plus</em> et choisir <em>R Markdown…</em>.</p>
<p><img src="img/rmd_01.png" class="img-fluid" style="width:75.0%"></p>
<p>Dans la fenêtre qui s’ouvre, laissez les paramètres par défaut et cliquez sur <em>Create Empty Document</em> (en cliquant sur <em>OK</em> vous créerez un document pré-rempli).</p>
<p>Votre document vide s’ouvre dans la fenêtre en haut à gauche de RStudio.</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_02.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_03.png" class="img-fluid"></p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="ajouter-un-en-tête" class="level2">
<h2 class="anchored" data-anchor-id="ajouter-un-en-tête">Ajouter un en-tête</h2>
<p>Un document Rmd débute par une section d’en-tête encadrée par trois tirets et qui contient généralement les éléments suivants :</p>
<ul>
<li><p>un titre</p></li>
<li><p>les auteurs</p></li>
<li><p>la date</p></li>
<li><p>le format de sortie</p></li>
</ul>
<p>Voici un exemple d’en-tête à insérer en haut de votre ficher .Rmd :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>title<span class="sc">:</span> <span class="st">"Pingouins de l'archipel Palmer"</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>author<span class="sc">:</span> Jonathan Kitt</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>date<span class="sc">:</span> <span class="dv">2022-11-14</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>output<span class="sc">:</span> html_document</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Le YAML
</div>
</div>
<div class="callout-body-container callout-body">
<p>Cet en-tête s’appelle un <strong>YAML : Yet Another Markup Language</strong></p>
</div>
</div>
<p><br></p>
<p>Sauvegardez votre fichier Rmd en cliquant sur l’icône disquette (ou en utilisant la combinaison Ctrl + S). Choisissez un nom pour votre fichier et placez-le dans votre dossier <em>docs</em>.</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_04.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_05.png" class="img-fluid"></p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="compiler-un-document-r-markdown" class="level2">
<h2 class="anchored" data-anchor-id="compiler-un-document-r-markdown">Compiler un document R Markdown</h2>
<p>Pour compiler votre fichier Rmd et générer le document au format choisi (<code>html</code> dans notre cas), cliquez sur le bouton <em>Knit</em> : le document s’ouvre dans une nouvelle fenêtre.</p>
<p><img src="img/rmd_06.png" class="img-fluid" style="width:100.0%"></p>
<p><br></p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Raccourci clavier : compiler un fichier Rmd
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour compiler un fichier Rmd, utilisez la combinaison <strong>Ctrl + Shift + K</strong></p>
</div>
</div>
<p><br></p>
<p>Dans l’explorateur de fichiers vous pouvez remarquer qu’un fichier <strong>mesures_pingouins.html</strong> a été ajouté dans le répertoire <strong>docs</strong> : il s’agit du fichier <code>html</code> issu de la compilation du fichier Rmd. En cliquant sur le nom de ce fichier vous aurez le choix entre l’ouvrir dans l’éditeur ou dans un navigateur internet.</p>
<p><img src="img/rmd_07.png" class="img-fluid" style="width:100.0%"></p>
<p><br></p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Prévisualiser le document
</div>
</div>
<div class="callout-body-container callout-body">
<p>Par défaut, lorsque vous compilez un fichier Rmd, le document généré s’ouvre dans une nouvelle fenêtre. Vous pouvez choisir d’afficher cette pré-visualisation directement dans l’onglet <em>Viewer</em> en bas à droite de RStudio en cliquant sur la roue à droite du bouton Knit puis sur <em>Preview in Viewer Pane</em>.</p>
<p><img src="img/rmd_08.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
<p><br></p>
</section>
</section>
<section id="les-bases-de-r-markdown" class="level1">
<h1>Les bases de R Markdown</h1>
<p>Pour mettre en forme votre texte, vous allez utiliser la syntaxe markdown.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Editeur visuel
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous pouvez modifier votre fichier Rmd à la manière d’un éditeur de texte à l’aide de l’éditeur visuel : cliquez sur le bouton <strong>Visual</strong> en haut du fichier.</p>
<p><img src="img/rmd_10.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
<p><br></p>
<section id="insérer-des-titres" class="level2">
<h2 class="anchored" data-anchor-id="insérer-des-titres">Insérer des titres</h2>
<p>Pour insérer un titre, utilisez un <code>#</code>. Vous pouvez utiliser différents niveaux en ajoutant des <code>#</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Niveau 1</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Niveau 2</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="do">### Niveau 3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img src="img/rmd_11.png" class="img-fluid" style="width:100.0%"></p>
<p><br></p>
</section>
<section id="insérer-une-ligne-horizontale" class="level2">
<h2 class="anchored" data-anchor-id="insérer-une-ligne-horizontale">Insérer une ligne horizontale</h2>
<p>Pour insérer une ligne horizontale dans votre texte, utilisez <em>trois étoiles</em> <code>***</code>.</p>
<p><br></p>
</section>
<section id="mettre-en-forme-le-texte" class="level2">
<h2 class="anchored" data-anchor-id="mettre-en-forme-le-texte">Mettre en forme le texte</h2>
<p>Pour mettre en forme votre texte, utilisez les conventions suivantes :</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_25.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_26.png" class="img-fluid"></p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="insérer-du-texte-au-format-code" class="level2">
<h2 class="anchored" data-anchor-id="insérer-du-texte-au-format-code">Insérer du texte au format code</h2>
<p>Vous pouvez insérer du texte au <em>format code</em> :</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_41.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_42.png" class="img-fluid"></p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="insérer-un-lien" class="level2">
<h2 class="anchored" data-anchor-id="insérer-un-lien">Insérer un lien</h2>
<p>Vous pouvez insérer un lien dans votre texte :</p>
<p><img src="img/rmd_45.png" class="img-fluid"></p>
<p><br></p>
</section>
<section id="insérer-des-listes" class="level2">
<h2 class="anchored" data-anchor-id="insérer-des-listes">Insérer des listes</h2>
<p>Vous pouvez insérer une liste à puces :</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_27.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_28.png" class="img-fluid"></p>
</div>
</div>
</div>
<p>Ou une liste numérotée :</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_29.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_30.png" class="img-fluid"></p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="insérer-un-tableau" class="level2">
<h2 class="anchored" data-anchor-id="insérer-un-tableau">Insérer un tableau</h2>
<p>Vous pouvez insérer un tableau en le “dessinant” :</p>
<ul>
<li><p>des tirets <code>-</code> pour déparer l’en-tête du reste du tableau</p></li>
<li><p>des barres verticales <code>|</code> pour délimiter les colonnes</p></li>
</ul>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_31.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_32.png" class="img-fluid"></p>
</div>
</div>
</div>
<p><br></p>
<p>Pour aligner le texte, utilisez deux points <code>:</code> :</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_33.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_34.png" class="img-fluid"></p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="insérer-une-citation" class="level2">
<h2 class="anchored" data-anchor-id="insérer-une-citation">Insérer une citation</h2>
<p>Vous pouvez insérer une citation :</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_35.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_36.png" class="img-fluid"></p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="notation-mathématique" class="level2">
<h2 class="anchored" data-anchor-id="notation-mathématique">Notation mathématique</h2>
<p>Vous pouvez insérer du texte en exposant ou en indice :</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_37.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_38.png" class="img-fluid"></p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="equation-mathématique" class="level2">
<h2 class="anchored" data-anchor-id="equation-mathématique">Equation mathématique</h2>
<p>La syntaxe pour insérer une équation mathématique se base sur <a href="https://rpruim.github.io/s341/S19/from-class/MathinRmd.html">LaTeX</a> :</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><img src="img/rmd_39.png" class="img-fluid"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><img src="img/rmd_40.png" class="img-fluid"></p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="insérer-une-image" class="level2">
<h2 class="anchored" data-anchor-id="insérer-une-image">Insérer une image</h2>
<p>Vous pouvez insérer une image dans votre fichier :</p>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Chemins vers les fichiers
</div>
</div>
<div class="callout-body-container callout-body">
<p>Lorsque que vous indiquez un chemin vers un fichier dans RMarkdown, le dossier “racine” n’est plus votre répertoire de travail (votre projet) mais le dossier dans lequel se trouve le fichier .Rmd, dans le cas présent le répertoire <em>docs/</em>.</p>
<p>Il faut donc revenir en arrière d’un niveau, à l’aide de <strong><code>../</code></strong>.</p>
<p>Lorsque vous naviguez dans une arborescence à l’aide de la ligne de commande, <strong><code>.</code></strong> indique le répertoire de travail et <strong><code>..</code></strong> le répertoire situé un niveau au-dessus dans votre arborescence.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span>[](..<span class="sc">/</span>figs<span class="sc">/</span>lter_penguins.png){width<span class="ot">=</span><span class="st">"100%"</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img src="img/rmd_18.png" class="img-fluid" style="width:75.0%"></p>
<p><br></p>
</section>
</section>
<section id="rédiger-un-document-de-façon-dynamique" class="level1">
<h1>Rédiger un document de façon dynamique</h1>
<p>Lorsque vous rédigez un rapport, vous pouvez le faire <em>“en dur”</em>, c’est-à-dire inscrire directement dans le texte toutes les valeurs numériques, les résultats de calculs, insérer des graphiques générés séparément, …</p>
<p>Cette façon de procéder présente un désavantage majeur : votre document ne sera valable qu’une seule fois pour une seule analyse (vous pourrez toujours le ré-utiliser en remplaçant les valeurs numériques). De plus, le risque d’erreur est non négligeable : coller des valeurs numériques copiées depuis un autre logiciel peut créer des mauvaises surprises.</p>
<p>Pour pallier à ces différents problèmes, RMarkdown vous permet de rédiger votre fichier de façon <em>“dynamique”</em>. Vous pouvez ainsi importer les fichiers nécessaires à votre analyse, effectuer des calculs et générer des graphiques à l’aide de code R qui sera compilé.</p>
<p>Votre fichier Rmd pourra ainsi être modifié et ré-utilisé pour des analyses similaires sur d’autres jeux de données.</p>
<p><br></p>
<section id="insérer-un-bloc-de-code-r" class="level2">
<h2 class="anchored" data-anchor-id="insérer-un-bloc-de-code-r">Insérer un bloc de code R</h2>
<p>Commençons par importer notre jeu de données à l’aide d’une ligne de code insérée dans un bloc de code. Dans RMarkdown, un bloc de code est encadré par trois accents <em>```</em>.</p>
<p>Sur la première ligne on indique entre accolades qu’il s’agit de code R :</p>
<p><img src="img/rmd_20.png" class="img-fluid" style="width:100.0%"></p>
<p><br></p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Raccourci clavier : insérer un bloc de code
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour insérer un bloc de code, utiliser la combinaison <strong>Ctrl + Alt + I</strong></p>
</div>
</div>
<p><br></p>
<p>Vous pouvez exécuter ce code comme vous le feriez dans un script classique en cliquant sur la flèche verte à droite du code (ou en vous plaçant sur la ligne et en utilisant la combinaison <strong>Ctrl + Entrée</strong>).</p>
<p>Le fichier a bien été importé et stocké dans l’objet <strong>pingouins</strong> visible dans l’environnement.</p>
<p>Lorsque vous compilez votre fichier Rmd, le code est exécuté et s’affiche dans votre document de sortie (au format <code>html</code>) :</p>
<p><img src="img/rmd_21.png" class="img-fluid" style="width:100.0%"></p>
<p><br></p>
<p>Lorsque vous insérez un bloc de code, des paramètres vous permettent de préciser si le code doit être affiché ou non, exécuté ou non, …</p>
<p>Ces options sont à placer dans les accolades : <code>{r eval=FALSE} par exemple</code>.</p>
<table class="table">
<thead>
<tr class="header">
<th>option</th>
<th>par défaut</th>
<th>effet</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>eval</td>
<td>TRUE</td>
<td>évaluer le code et inclure le résultat</td>
</tr>
<tr class="even">
<td>echo</td>
<td>TRUE</td>
<td>afficher le code avec le résultat</td>
</tr>
<tr class="odd">
<td>warning</td>
<td>TRUE</td>
<td>afficher les messages d’avertissement</td>
</tr>
<tr class="even">
<td>error</td>
<td>FALSE</td>
<td>afficher les messages d’erreur</td>
</tr>
<tr class="odd">
<td>message</td>
<td>TRUE</td>
<td>afficher les messages</td>
</tr>
</tbody>
</table>
</section>
<section id="insérer-du-code" class="level2">
<h2 class="anchored" data-anchor-id="insérer-du-code">Insérer du code</h2>
<p>Nous avons vu plus haut comment insérer du texte au format code.</p>
<p>Vous pouvez exécuter le code en ajoutant un <code>r</code> :</p>
<p><img src="img/rmd_43.png" class="img-fluid"></p>
<p><br></p>
</section>
</section>
<section id="transformer-un-script-en-.rmd" class="level1">
<h1>Transformer un script en .Rmd</h1>
<p>Pour mettre en pratique ce que nous avons jusqu’ici, nous allons transformer le script écrit pour l’analyse des données (voir <a href="https://ateliers-codons.netlify.app/posts/02-premiers-pas-avec-r/">ce tutoriel</a>) en fichier <code>.Rmd</code>.</p>
<p>Pour télécharger ce script, cliquez <a href="https://raw.githubusercontent.com/codons-blog/ateliers_codons/main/scripts/premiers_pas.R">ici</a> et sauvegardez-le dans le dossier <code>scripts</code> de votre répertoire de travail.</p>
<section id="introduction-1" class="level2">
<h2 class="anchored" data-anchor-id="introduction-1">Introduction</h2>
<p>Commençons par rédiger une courte introduction :</p>
<p><img src="img/rmd_46.png" class="img-fluid"></p>
<ul>
<li><p>Nous utilisons des <em>balises <code>html</code></em> pour centrer l’image : <code>&lt;center&gt; et &lt;/center&gt;</code></p></li>
<li><p>Nous ajustons la largeur de l’image à l’aide du paramètre <code>{width="50%"}</code></p></li>
</ul>
<p><br></p>
</section>
<section id="importer-les-données" class="level2">
<h2 class="anchored" data-anchor-id="importer-les-données">Importer les données</h2>
<div class="cell">

</div>
<p>Pour utiliser les données dans notre fichier <code>Rmd</code> nous devons l’importer : il sera alors disponible dans notre environnement.</p>
<p>Le chemin vers le fichier <code>pingouins.csv</code> ne sera pas le même pour un utilisateur utilisant notre document. Nous insérons ainsi deux blocs de code :</p>
<ul>
<li><p>importer les données pour les utiliser dans le fichier <code>Rmd</code></p></li>
<li><p>expliquer comment importer les données pour un autre utilisateur</p></li>
</ul>
<p><img src="img/rmd_47.png" class="img-fluid"></p>
</section>
<section id="explorer-et-nettoyer-les-données" class="level2">
<h2 class="anchored" data-anchor-id="explorer-et-nettoyer-les-données">Explorer et nettoyer les données</h2>
<section id="description-des-données" class="level3">
<h3 class="anchored" data-anchor-id="description-des-données">Description des données</h3>
<p>Les données brutes étant à présent disponibles dans notre environnement, nous pouvons les explorer de façon dynamique et afficher les résultats dans notre document :</p>
<p><img src="img/rmd_48.png" class="img-fluid"></p>
</section>
<section id="nettoyage-des-données" class="level3">
<h3 class="anchored" data-anchor-id="nettoyage-des-données">Nettoyage des données</h3>
<p><img src="img/rmd_49.png" class="img-fluid"></p>
<div class="cell">

</div>
<p>Comme nous l’avions fait pour importer les données, nous utilisons deux blocs de code pour exporter les données nettoyées :</p>
<p><img src="img/rmd_50.png" class="img-fluid"></p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>