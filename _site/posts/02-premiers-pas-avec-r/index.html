<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gergana Daskalova">
<meta name="author" content="Jonathan Kitt (adaptation)">
<meta name="dcterms.date" content="2022-10-13">

<title>Ateliers codons - Premiers pas avec R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Ateliers codons</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../glossary.html">Glossaire</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/codons-blog/"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/AteliersCodons/"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Premiers pas avec R</h1>
            <p class="subtitle lead">Se familiariser avec R et manipuler des données</p>
                                <div class="quarto-categories">
                <div class="quarto-category">R</div>
                <div class="quarto-category">RStudio</div>
                <div class="quarto-category">bases</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Authors</div>
      <div class="quarto-title-meta-contents">
               <p>Gergana Daskalova </p>
               <p>Jonathan Kitt (adaptation) </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 13, 2022</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Sommaire</h2>
   
  <ul>
  <li><a href="#r_intro" id="toc-r_intro" class="nav-link active" data-scroll-target="#r_intro">Introduction</a>
  <ul class="collapse">
  <li><a href="#r_def" id="toc-r_def" class="nav-link" data-scroll-target="#r_def">Qu’est-ce que R ?</a></li>
  <li><a href="#naviguer_rstudio" id="toc-naviguer_rstudio" class="nav-link" data-scroll-target="#naviguer_rstudio">Naviguer dans RStudio</a></li>
  </ul></li>
  <li><a href="#organiser-son-travail" id="toc-organiser-son-travail" class="nav-link" data-scroll-target="#organiser-son-travail">Organiser son travail</a>
  <ul class="collapse">
  <li><a href="#créer-un-projet" id="toc-créer-un-projet" class="nav-link" data-scroll-target="#créer-un-projet">Créer un projet</a></li>
  <li><a href="#créer-une-arborescence" id="toc-créer-une-arborescence" class="nav-link" data-scroll-target="#créer-une-arborescence">Créer une arborescence</a></li>
  </ul></li>
  <li><a href="#importer-les-données" id="toc-importer-les-données" class="nav-link" data-scroll-target="#importer-les-données">Importer les données</a></li>
  <li><a href="#explorer-les-données" id="toc-explorer-les-données" class="nav-link" data-scroll-target="#explorer-les-données">Explorer les données</a></li>
  <li><a href="#manipuler-des-données" id="toc-manipuler-des-données" class="nav-link" data-scroll-target="#manipuler-des-données">Manipuler des données</a>
  <ul class="collapse">
  <li><a href="#transformer-un-vecteur-en-un-facteur" id="toc-transformer-un-vecteur-en-un-facteur" class="nav-link" data-scroll-target="#transformer-un-vecteur-en-un-facteur">Transformer un vecteur en un facteur</a></li>
  <li><a href="#extraire-des-données" id="toc-extraire-des-données" class="nav-link" data-scroll-target="#extraire-des-données">Extraire des données</a></li>
  </ul></li>
  <li><a href="#représenter-des-données" id="toc-représenter-des-données" class="nav-link" data-scroll-target="#représenter-des-données">Représenter des données</a>
  <ul class="collapse">
  <li><a href="#diagramme-en-barres-barplot" id="toc-diagramme-en-barres-barplot" class="nav-link" data-scroll-target="#diagramme-en-barres-barplot">Diagramme en barres (barplot)</a></li>
  <li><a href="#histogramme" id="toc-histogramme" class="nav-link" data-scroll-target="#histogramme">Histogramme</a></li>
  <li><a href="#boxplot" id="toc-boxplot" class="nav-link" data-scroll-target="#boxplot">Boxplot</a></li>
  <li><a href="#scatter-plot" id="toc-scatter-plot" class="nav-link" data-scroll-target="#scatter-plot">Scatter plot</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<div class="cell">

</div>
<p><em>Ce tutoriel est adapté de <a href="https://ourcodingclub.github.io/tutorials/intro-to-r/">Getting started with R and RStudio</a> du site <a href="https://ourcodingclub.github.io/">Our Coding Club</a>.</em></p>
<p><br></p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour savoir comment installer R et RStudio, cliquez <a href="https://ateliers-codons.netlify.app/posts/01-installer-r-et-rstudio/">ici</a></p>
</div>
</div>
<p><br></p>
<section id="r_intro" class="level1">
<h1>Introduction</h1>
<section id="r_def" class="level2">
<h2 class="anchored" data-anchor-id="r_def">Qu’est-ce que R ?</h2>
<p><br></p>
<p>R est un <strong>langage de programmation statistique</strong> qui a rapidement gagné en popularité dans de nombreux domaines scientifiques.</p>
<p>Il a été développé par <strong>Ross Ihaka</strong> et <strong>Robert Gentleman</strong>, du Département de Statistiques de l’Université d’Auckland, comme <strong>implémentation libre du langage de programmation S</strong>.</p>
<p><br></p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Quelques dates
</div>
</div>
<div class="callout-body-container callout-body">
<table class="table">
<tbody>
<tr class="odd">
<td>1991</td>
<td>Création du langage R</td>
</tr>
<tr class="even">
<td>1993</td>
<td>R est dévoilé au public</td>
</tr>
<tr class="odd">
<td>1996</td>
<td><a href="https://www.stat.auckland.ac.nz/~ihaka/downloads/R-paper.pdf">Article dans le <em>Journal of Computational and Graphical Statistics</em></a></td>
</tr>
</tbody>
</table>
</div>
</div>
<p><br></p>
<p>R désigne également le <strong>logiciel</strong> qui utilise ce langage pour des calculs statistiques (et tout un tas d’autres applications !).</p>
<p>Il dispose d’une <strong>communauté</strong> en ligne très active ainsi que d’<strong>extensions</strong> pour presque tous les domaines et applications possibles et imaginables.</p>
<p><br></p>
<p>Contrairement à d’autres logiciels de statistiques comme Minitab ou SPSS, R peut être exécuté entièrement en <strong>ligne de commande</strong> et ne nécessite pas d’interface graphique, ce qui lui confère une <strong>grande flexibilité</strong>.</p>
<p><br></p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Quelques avantages de R
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>C’est un outil <strong>libre et open source</strong> (tout le monde peut utiliser le code et voir comment il fonctionne)<br>
</li>
<li>C’est un langage de programmation plutôt qu’une interface graphique, ce qui permet à l’utilisateur de sauvegarder facilement des <strong>scripts</strong> sous forme de texte pour les ré-utiliser ou les partager<br>
</li>
<li>Beaucoup de personnes l’utilisent dans beaucoup de domaines différents - <strong>il est rare d’être confronté à un problème qui n’a jamais été résolu !</strong></li>
</ul>
</div>
</div>
<p><br></p>
</section>
<section id="naviguer_rstudio" class="level2">
<h2 class="anchored" data-anchor-id="naviguer_rstudio">Naviguer dans RStudio</h2>
<p><br></p>
<p>En ouvrant RStudio, vous verrez une fenêtre comme celle ci-dessous, qui se divise en trois panneaux :</p>
<p><img src="img/rstudio_01.png" class="img-fluid" style="width:100.0%"></p>
<p><br></p>
<section id="la-console" class="level3">
<h3 class="anchored" data-anchor-id="la-console">La console</h3>
<p>Vous pouvez y taper du code et l’exécuter en appuyant sur <code>Entrée</code>.</p>
<p>Lors du lancement d’une session RStudio, elle affiche également des informations comme la version de R présente sur votre ordinateur et des indications sur la manière d’obtenir de l’aide.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
L’invite de commande
</div>
</div>
<div class="callout-body-container callout-body">
<p>Dans la console, une ligne commence par <code>&gt;</code> : c’est ce qu’on appelle l’<strong>invite de commande</strong>. Cela indique que R est prêt à recevoir vos instructions !</p>
<p>Tapez <code>2+2</code> puis appuyez sur <code>Entrée</code> : la console affiche le résultat.</p>
</div>
</div>
</section>
<section id="lespace-de-travail" class="level3">
<h3 class="anchored" data-anchor-id="lespace-de-travail">L’espace de travail</h3>
<p>Vous y trouverez votre environnement (données importées, objets créés, fonctions définies, …), ainsi que d’autres onglets comme l’historique des commandes exécutées ou l’accès à des tutoriels (pour les versions récentes de RStudio).</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Un langage orienté objet
</div>
</div>
<div class="callout-body-container callout-body">
<p>R est un langage orienté objet, ce qui veut dire que tout ce que vous manipulez dans R est stocké dans un objet.</p>
</div>
</div>
<p>D’autres onglets vous permettent d’accéder à l’historique des commandes ou encore à des tutoriels (pour les versions les plus récentes de RStudio).</p>
</section>
<section id="le-navigateur" class="level3">
<h3 class="anchored" data-anchor-id="le-navigateur">Le navigateur</h3>
<p>Ce navigateur vous permet de navigeur dans vos dossiers, de copier, renommer ou supprimer des fichiers, à la manière d’un explorateur classique.</p>
<p>Les autres onglets permettent de visualiser les graphiques ou encore d’afficher l’aide.</p>
</section>
<section id="le-script" class="level3">
<h3 class="anchored" data-anchor-id="le-script">Le script</h3>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Le code tapé et exécuté dans la console ne sera plus disponible quand vous quitterez votre session RStudio. A la manière d’un document Word, un script vous permet de sauvegarder votre code afin d’y accéder ultérieurement ou de le partager.</p>
</div>
</div>
<p>Pour ouvrir un nouveau script, cliquez sur le “plus” dans le coin supérieur gauche de la fenêtre RStudio puis sur <strong>R Script</strong>.</p>
<p><img src="img/rstudio_09.png" class="img-fluid" style="width:100.0%"></p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Raccourcis clavier : nouveau script
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour ouvrir un nouveau script, utilisez la combinaison <strong>Ctrl + Shift + N</strong></p>
</div>
</div>
<p>Un nouveau panneau s’affiche :</p>
<p><img src="img/rstudio_10.png" class="img-fluid" style="width:100.0%"></p>
<p><br></p>
</section>
</section>
</section>
<section id="organiser-son-travail" class="level1">
<h1>Organiser son travail</h1>
<section id="créer-un-projet" class="level2">
<h2 class="anchored" data-anchor-id="créer-un-projet">Créer un projet</h2>
<p>Pour éviter de perdre du temps à chercher des fichiers dont on a oublié le nom et l’emplacement, il est utile d’organiser son travail à l’aide de <strong>projets</strong>.</p>
<p>Pour créer un projet, cliquez sur <strong>File</strong> puis <strong>New project…</strong> :</p>
<p><img src="img/rstudio_02.png" class="img-fluid" style="width:100.0%"></p>
<p>Choisissez <strong>New Directory</strong> puis <strong>New Project</strong></p>
<p><img src="img/rstudio_03.png" class="img-fluid" style="width:100.0%"></p>
<p><img src="img/rstudio_04.png" class="img-fluid" style="width:100.0%"></p>
<p>Dans la fenêtre <strong>Create New Project</strong>, attribuez un nom et un emplacement au projet, puis cliquez sur <strong>Create project</strong></p>
<p><img src="img/rstudio_05.png" class="img-fluid" style="width:100.0%"></p>
<p>Quand vous voudrez travailler à nouveau sur ces données, il vous suffira de double-cliquer sur le fichier <code>.Rproj</code> pour ouvrir le projet et accéder à tout ce qu’il contient.</p>
<p><img src="img/rstudio_06.png" class="img-fluid" style="width:100.0%"></p>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Bonne pratiques : nommer ses fichiers et dossiers
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour vous simplifier la vie, voici quelques recommandations :</p>
<ul>
<li>privilégiez les noms courts et explicites (à éviter : <em>fichier_2e_version_a_verifier.txt</em>)</li>
<li>ne mettez ni espace ni caractères spéciaux (accents, symboles, …)<br>
</li>
<li>pour les dates, privilégiez le format <strong>AAAAMMJJ</strong> (année, mois, jour)</li>
<li>mettez l’élément le plus important en premier (par exemple : <em>projet_date_contenu</em>)<br>
</li>
<li>optez pour l’une de ces deux conventions d’écritre : <strong>camel case</strong> (<em>MonProjet</em>) ou <strong>snake case</strong> (<em>mon_projet</em>)</li>
</ul>
<p>Une fois que vous avez trouvé une façon de procéder, utlisez-la pour l’ensemble de vos fichiers afin de rester cohérent !</p>
</div>
</div>
</section>
<section id="créer-une-arborescence" class="level2">
<h2 class="anchored" data-anchor-id="créer-une-arborescence">Créer une arborescence</h2>
<p>Il est toujours préférable de passer un peu de temps à bien organiser un projet lors de sa création, plutôt que de passer beaucoup de temps par la suite à déplacer des fichiers, les renommer, les rechercher, …</p>
<p>Pour créer un nouveau dossier dans votre projet, cliquez sur <strong>New Folder</strong> dans l’onglet <strong>Files</strong> du navigateur : <img src="img/rstudio_07.png" class="img-fluid" style="width:100.0%"></p>
<p>L’organisation proposée ci-dessous est utilisable dans une très grande majorité de cas :</p>
<ul>
<li><strong>raw</strong> : contient les données brutes qui seront utilisées mais laisées en l’état.<br>
</li>
<li><strong>data</strong> : contient les données issues de la manipulation des données brutes (sous-ensembles, données corrigées, renommées, nouvelles variables calculées, …)<br>
</li>
<li><strong>scripts</strong> : contient le code utilisé pour manipuler les données, générer les figures, rédiger les rapports, …</li>
<li><strong>resultats</strong> : contient les fichiers de résultats issus de l’analyse.</li>
<li><strong>figures</strong> : contient les graphiques et figures générées lors de l’analyse.<br>
</li>
<li><strong>docs</strong> : contient les rapports rédigés au cours de l’analyse, les présentations de résultats, des articles en lien avec l’analyse, les documents concernant les outils utlisés, …</li>
</ul>
<p><img src="img/rstudio_08.png" class="img-fluid" style="width:100.0%"></p>
</section>
</section>
<section id="importer-les-données" class="level1">
<h1>Importer les données</h1>
<p>Si ce n’est pas encore fait, ouvrez un nouveau script.</p>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Bonne pratiques : commenter ses scripts
</div>
</div>
<div class="callout-body-container callout-body">
<p>Prenez dès maintenant l’habitude de commenter vos scripts. Il s’agit de rédiger des commentaires qui expliquent ce que fait votre code, pour le rendre plus compréhensible par vos collègues - et par vous-même quand vous reviendrez sur un script après un certain temps ! Pour ajouter un commentaire, utiliser un <code>#</code> au début d’une ligne puis rédigez votre commentaire. Dans R, un code placé après un <code>#</code> n’est pas exécuté :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ceci est un commentaire qui ne sera pas exécuté</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># La ligne suivante sera exécutée</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
</div>
</div>
<p>Pour commencer, ajoutons des informations en haut de notre script :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ateliers codons</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 01 - Premiers pas avec R</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 2022-11-07</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Raccourcis clavier : commentaires
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour commenter ou dé-commenter une ligne de code, utilisez la combinaison <strong>Ctrl + Shift + C</strong>.</p>
</div>
</div>
<p>Le jeu de données que nous allons utiliser contient des mesures pour <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0090081">trois espèces de pingouins vivant sur l’archipel Palmer en Antarctique</a>.</p>
<p>Pour importer ces données, nous allons faire appel à la <strong>fonction <code>read.csv()</code></strong> qui, comme son nom l’indique, permet de lire un fichier au format <em>.csv</em>. Une fonction permet d’exécuter une action comme calculer une somme, importer ou exporter un fichier.</p>
<p>Toutes les fonctions s’utilisent de la même façon :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fonction</span>(x, arguments)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>un appel à la fonction en tapant son nom</li>
</ul>
<p>Entre <strong>parenthèses</strong> :</p>
<ul>
<li>les données sur lesquelles appliquer la fonction (<strong>x</strong>)<br>
</li>
<li>les <strong>arguments</strong>, obligatoires ou optionnels, qui vont modifier la manière dont la fonction sera exécutée.</li>
</ul>
<p>Voyons ce que fait la fonction <code>read.csv()</code>. Nous allons préciser deux arguments :</p>
<ul>
<li>le chemin vers le fichier à importer, <strong>entre guillemets</strong> :<code>"raw/pingouins.csv"</code><br>
</li>
<li>l’argument <code>check.names = FALSE</code> pour garder les noms de colonnes tels quels.</li>
</ul>
<p>Tapez le code suivant dans la console et appuyez sur <strong>Entrée</strong> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">"raw/pingouins.csv"</span>, <span class="at">check.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">

</div>
<p><img src="img/rstudio_20.png" class="img-fluid" style="width:100.0%"></p>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Bonne pratiques : auto-complétion
</div>
</div>
<div class="callout-body-container callout-body">
<p>R vous aide à compléter votre code : tapez <code>re</code> puis <strong>Tab</strong>, et vous verrez s’afficher une liste de fonctions ou d’objets commençant par ces deux lettres. Vous pouvez naviguer à l’aide des flèches haut et bas et valider votre choix en appuyant à nouveau sur <strong>Tab</strong>. Cette fonctionnalité de R est particulièrement utile lorsque vous manipulez des fichiers ou objets ayant des noms complexes.</p>
</div>
</div>
<p>Le fichier a effectivement été importé dans R, mais il n’est pour l’instant pas stocké dans notre environnement. Nous allons pour cela stocker le contenu du fichier dans un objet à l’aide de la <strong>flèche d’assignation <code>&lt;-</code></strong>. Placez-vous dans votre script et tapez le code suivant :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>pingouins <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">"raw/pingouins.csv"</span>, <span class="at">check.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Raccourcis clavier : flèche d’assignation
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour insérer une flèche d’assignation, utilisez la combinaison <strong>Alt + “-”</strong> (tiret du 6).</p>
</div>
</div>
<p>Exécutez cette fonction en plaçant le curseur sur la ligne et en cliquant sur <strong>Run</strong> :</p>
<p><img src="img/rstudio_11.png" class="img-fluid" style="width:100.0%"></p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Raccourcis clavier : exécuter du code
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour exécuter une ou plusieurs lignes de code, sélectionnez les lignes et utilisez la combinaison <strong>Ctrl + Entrée</strong></p>
</div>
</div>
<p>Notre environnement contient maintenant un objet <strong>pingouins</strong>, et vous pouvez voir l’indication <code>344 obs. of 9 variables</code> : le jeu de données contient 344 observations (lignes) et 9 variables (colonnes).</p>
<p><img src="img/rstudio_12.png" class="img-fluid" style="width:100.0%"></p>
<p>En cliquant sur la flèche bleue à gauche du nom de l’objet, vous aurez accès à plus d’informations :</p>
<p><img src="img/rstudio_13.png" class="img-fluid" style="width:100.0%"></p>
<ul>
<li><strong>Noms des variables</strong> : le tableau contient 9 variables dont les noms sont précédés du signe <strong>$</strong>.</li>
</ul>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
L’opérateur <strong>$</strong>
</div>
</div>
<div class="callout-body-container callout-body">
<p>Cet opérateur permet de sélectionner la colonne d’un tableau. Dans la console, tapez <code>pingouins$</code> et appuyez sur <strong>Tab</strong>.</p>
<p><img src="img/rstudio_15.png" class="img-fluid" style="width:100.0%"> Vous pouvez choisir la variable qui vous intéresse à l’aide des <strong>flèches haut et bas</strong> (<em>Espece</em> par exemple) puis appuyer à nouveau sur <strong>Tab</strong> pour valider. Vous verrez alors s’afficher les 344 observations de cette variable. <img src="img/rstudio_16.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
<ul>
<li><p><strong>Types des variables</strong> : indique s’il s’agit d’une variable de type <strong>caractère (<code>chr</code>)</strong>, d’une variable contenant des <strong>nombres entiers (<code>int</code>)</strong> ou des <strong>nombres décimaux (<code>num</code>)</strong>. Une variable peut également être de type <strong>logique (<code>log</code>)</strong> (<em>TRUE</em> ou <em>FALSE</em>).</p></li>
<li><p><strong>Premiers éléments de chaque variable</strong>.</p></li>
</ul>
<p>Vous pouvez afficher le tableau en cliquant sur l’icône à droite du nom de l’objet dans l’environnement :</p>
<p><img src="img/rstudio_14.png" class="img-fluid" style="width:100.0%"></p>
<p>Cela ouvre un nouvel onglet à côté de de votre script :</p>
<p><img src="img/rstudio_17.png" class="img-fluid" style="width:100.0%"></p>
<p>Avant d’aller plus loin, sauvegardez votre script en cliquant sur l’icône disquette en haut de votre script :</p>
<p><img src="img/rstudio_18.png" class="img-fluid" style="width:100.0%"></p>
<p>Choisissez le dossier où sera sauvegardé votre script - <strong>scripts</strong> dans notre cas, et nommez votre script puis cliquez sur <strong>Save</strong> :</p>
<p><img src="img/rstudio_19.png" class="img-fluid" style="width:100.0%"></p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Raccourcis clavier : sauvegarder un script
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour sauvegarder un script, uilisez la combinaison <strong>Ctrl + S</strong></p>
</div>
</div>
</section>
<section id="explorer-les-données" class="level1">
<h1>Explorer les données</h1>
<p>Une des premières choses à faire est de vous assurer que vos données ont été correctement importées. Les outils proposés par R vous permettent d’effectuer des analyses, mais c’est à vous de vous assurer que vos données sont au bon format.</p>
<p>Pour cette étape d’exploration des données, vous pouvez taper le code directement dans la console.</p>
<p>Plusieurs fonctions vous permettent d’explorer rapidement vos données :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher les premieres lignes du tableau</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pingouins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  etudeNumero Echantillon Numero                              Espece       Ile
1     PAL0708                  1 Adelie Penguin (Pygoscelis adeliae) Torgersen
2     PAL0708                  2 Adelie Penguin (Pygoscelis adeliae) Torgersen
3     PAL0708                  3 Adelie Penguin (Pygoscelis adeliae) Torgersen
4     PAL0708                  4 Adelie Penguin (Pygoscelis adeliae) Torgersen
5     PAL0708                  5 Adelie Penguin (Pygoscelis adeliae) Torgersen
6     PAL0708                  6 Adelie Penguin (Pygoscelis adeliae) Torgersen
  ID Individu Longueur Bec (mm) Hauteur Bec (mm) Longueur Aile (mm)
1        N1A1              39.1             18.7                181
2        N1A2              39.5             17.4                186
3        N2A1              40.3             18.0                195
4        N2A2                NA               NA                 NA
5        N3A1              36.7             19.3                193
6        N3A2              39.3             20.6                190
  Masse corporelle (g)
1                 3750
2                 3800
3                 3250
4                   NA
5                 3450
6                 3650</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher les dernieres lignes du tableau</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(pingouins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    etudeNumero Echantillon Numero                                    Espece
339     PAL0910                 63 Chinstrap penguin (Pygoscelis antarctica)
340     PAL0910                 64 Chinstrap penguin (Pygoscelis antarctica)
341     PAL0910                 65 Chinstrap penguin (Pygoscelis antarctica)
342     PAL0910                 66 Chinstrap penguin (Pygoscelis antarctica)
343     PAL0910                 67 Chinstrap penguin (Pygoscelis antarctica)
344     PAL0910                 68 Chinstrap penguin (Pygoscelis antarctica)
      Ile ID Individu Longueur Bec (mm) Hauteur Bec (mm) Longueur Aile (mm)
339 Dream       N98A1              45.7             17.0                195
340 Dream       N98A2              55.8             19.8                207
341 Dream       N99A1              43.5             18.1                202
342 Dream       N99A2              49.6             18.2                193
343 Dream      N100A1              50.8             19.0                210
344 Dream      N100A2              50.2             18.7                198
    Masse corporelle (g)
339                 3650
340                 4000
341                 3400
342                 3775
343                 4100
344                 3775</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher la structure du tableau</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(pingouins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   344 obs. of  9 variables:
 $ etudeNumero         : chr  "PAL0708" "PAL0708" "PAL0708" "PAL0708" ...
 $ Echantillon Numero  : int  1 2 3 4 5 6 7 8 9 10 ...
 $ Espece              : chr  "Adelie Penguin (Pygoscelis adeliae)" "Adelie Penguin (Pygoscelis adeliae)" "Adelie Penguin (Pygoscelis adeliae)" "Adelie Penguin (Pygoscelis adeliae)" ...
 $ Ile                 : chr  "Torgersen" "Torgersen" "Torgersen" "Torgersen" ...
 $ ID Individu         : chr  "N1A1" "N1A2" "N2A1" "N2A2" ...
 $ Longueur Bec (mm)   : num  39.1 39.5 40.3 NA 36.7 39.3 38.9 39.2 34.1 42 ...
 $ Hauteur Bec (mm)    : num  18.7 17.4 18 NA 19.3 20.6 17.8 19.6 18.1 20.2 ...
 $ Longueur Aile (mm)  : int  181 186 195 NA 193 190 181 195 193 190 ...
 $ Masse corporelle (g): int  3750 3800 3250 NA 3450 3650 3625 4675 3475 4250 ...</code></pre>
</div>
</div>
<p>Vous remarquerez que la fonction <code>str(pingouins)</code> affiche des informations très proches de celles obtenues en cliquant sur la flèche bleue à gauche de l’objet pingouins dans l’environnement.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Afficher l’aide d’une fonction
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous pouvez afficher l’aide d’une fonction de deux manières :<br>
- taper <code>help(fonction)</code> (pensez à l’auto-complétion !) - taper <code>?fonction</code></p>
<p>Essayez en tapant dans la console <code>?he</code> puis appuyez sur <strong>Tab</strong> : R vous propose une liste de fonctions commençant par <strong>he</strong>. Utilisez les flèches haut et bas pour choisir la fonction <strong>head</strong>. Une petite fenêtre vous donne un aperçu du contenu de l’aide pour la fonction (utile quand vous hésitez entre plusieurs fonctions). Une fois la fonction sélectionnée, appuyez sur la touche <strong>F1</strong> pour afficher l’aide complète dans l’onglet <strong>Help</strong>.</p>
<p>L’aide d’une fonction contient plusieurs paragraphes :</p>
<ul>
<li>une <strong>description</strong> de la fonction<br>
</li>
<li><strong>comment utiliser</strong> la fonction<br>
</li>
<li>les <strong>arguments</strong> de la fonction<br>
</li>
<li>les <strong>détails</strong> de la fonction (quel type de données en entrée, des précisions sur les arguments, …)<br>
</li>
<li>ce que la fonction retourne en <strong>sortie</strong><br>
</li>
<li>des <strong>notes</strong> additionnelles<br>
</li>
<li>les <strong>auteurs</strong> qui ont contribué à l’écriture du code de la fonction<br>
</li>
<li>des <strong>exemples</strong> sur l’utilisation de la fonction (avec possibilité d’exécuter ces exemples)</li>
</ul>
<p>Dans le cas de <code>head()</code>, vous pouvez voir que par défaut, la fonction retournera les 6 premières lignes (<code>n = 6L</code>, <strong>L</strong> indiquant qu’il s’agit d’un nombre entier). Pour afficher uniquement les deux premières lignes du tableau <em>pingouins</em>, il vous faudrait modifier cet argument : <code>head(pingouins, n = 2L)</code></p>
</div>
</div>
<p>Vous pouvez explorer une variable d’intérêt :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher les premiers elements d'une variable</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pingouins<span class="sc">$</span><span class="st">`</span><span class="at">Masse corporelle (g)</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3750 3800 3250   NA 3450 3650</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher les derniers elements d'une variable</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(pingouins<span class="sc">$</span><span class="st">`</span><span class="at">Masse corporelle (g)</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3650 4000 3400 3775 4100 3775</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher le type, le nombre d'elements et les premiers elements d'une variable</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(pingouins<span class="sc">$</span><span class="st">`</span><span class="at">Masse corporelle (g)</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> int [1:344] 3750 3800 3250 NA 3450 3650 3625 4675 3475 4250 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher le type de variable</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(pingouins<span class="sc">$</span><span class="st">`</span><span class="at">Masse corporelle (g)</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Les données manquantes
</div>
</div>
<div class="callout-body-container callout-body">
<p>Si vous tapez <code>head(pingouins$</code>Masse corporelle (g)<code>)</code> dans la console, vous verrez un élément <strong>NA</strong>. Il s’agit d’une donnée manquante (<strong>Not Available</strong>) : aucune mesure n’a été relevée chez cet individu pour cette variable.</p>
<p>Cette valeur <strong>NA</strong> est à différencier de la valeur <strong>NaN (Not a Number)</strong> également rencontrée dans R. Il s’agit alors du résultat d’une opération arithmétique invalide, telle que 0/0.</p>
</div>
</div>
<p>La fonction <code>dim(pingouins)</code> permet d’afficher les <strong>dimensions</strong> du tableau (<strong>m lignes</strong> et <strong>n colonnes</strong>).</p>
</section>
<section id="manipuler-des-données" class="level1">
<h1>Manipuler des données</h1>
<section id="transformer-un-vecteur-en-un-facteur" class="level2">
<h2 class="anchored" data-anchor-id="transformer-un-vecteur-en-un-facteur">Transformer un vecteur en un facteur</h2>
<p>La fonction <code>summary(pingouins)</code> est particulièrement intéressante pour avoir une vue d’ensemble de vos données.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(pingouins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> etudeNumero        Echantillon Numero    Espece              Ile           
 Length:344         Min.   :  1.00     Length:344         Length:344        
 Class :character   1st Qu.: 29.00     Class :character   Class :character  
 Mode  :character   Median : 58.00     Mode  :character   Mode  :character  
                    Mean   : 63.15                                          
                    3rd Qu.: 95.25                                          
                    Max.   :152.00                                          
                                                                            
 ID Individu        Longueur Bec (mm) Hauteur Bec (mm) Longueur Aile (mm)
 Length:344         Min.   :32.10     Min.   :13.10    Min.   :172.0     
 Class :character   1st Qu.:39.23     1st Qu.:15.60    1st Qu.:190.0     
 Mode  :character   Median :44.45     Median :17.30    Median :197.0     
                    Mean   :43.92     Mean   :17.15    Mean   :200.9     
                    3rd Qu.:48.50     3rd Qu.:18.70    3rd Qu.:213.0     
                    Max.   :59.60     Max.   :21.50    Max.   :231.0     
                    NA's   :2         NA's   :2        NA's   :2         
 Masse corporelle (g)
 Min.   :2700        
 1st Qu.:3550        
 Median :4050        
 Mean   :4202        
 3rd Qu.:4750        
 Max.   :6300        
 NA's   :2           </code></pre>
</div>
</div>
<p><img src="img/rstudio_22.png" class="img-fluid" style="width:100.0%"></p>
<p>Les informations affichées à l’aide de cette fonction dépendent du type de variable :</p>
<ul>
<li><strong>nombre d’éléments</strong> pour les variables de type <strong>caractère</strong><br>
</li>
<li><strong>statistiques</strong> pour les variables de type <strong>numérique</strong></li>
</ul>
<p>Il peut arriver que certaines variables soient mal catégorisées. Les deux cas de figure les plus répandus sont les suivants :</p>
<ul>
<li>les catégories d’une variable sont représentées par des valeurs numériques et R considère cette variable comme étant numérique (par exemple <em>Echantillon Numero</em>)<br>
</li>
<li>les catégories d’une variable ne sont pas prises en compte et R considère cette variable comme étant simplement une chaîne de caractères (par exemple <strong>Espece</strong> et <strong>Ile</strong>) ou de valeurs numériques.</li>
</ul>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Vecteurs et facteurs
</div>
</div>
<div class="callout-body-container callout-body">
<p>On désigne par <strong>vecteur</strong> un objet uni-dimensionnel contenant des éléments d’un seul type (caractères, valeurs numériques ou logiques). Un tableau est constitué de vecteurs situés dans les colonnes.</p>
<p>Un <strong>facteur</strong> est un vecteur dont les éléments peuvent être regroupés en catégories (on parle de <strong>niveaux</strong>).</p>
</div>
</div>
<p>Si vous ne connaissez pas dans le détail votre jeu de données, vous pouvez avoir une idée de sa structure sous-jacente en comptant le nombre d’éléments uniques des différentes variables à l’aide des fonctions <code>unique()</code> et <code>length()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraire les elements uniques d'une variable</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(pingouins<span class="sc">$</span>Espece)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Adelie Penguin (Pygoscelis adeliae)"      
[2] "Gentoo penguin (Pygoscelis papua)"        
[3] "Chinstrap penguin (Pygoscelis antarctica)"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compter le nombre d'elements uniques d'une variable</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(pingouins<span class="sc">$</span>Espece))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>La fonction <code>unique()</code> affiche les éléments uniques d’une variable par ordre d’apparition.</p>
<p>La fonction <code>as.factor()</code> permet de transformer un vecteur en facteur. Par défaut, les niveaux sont triés par ordre alphabétique. Si vous le souhaitez, vous pouvez préciser manuellement l’ordre souhaité pour ces niveaux à l’aide de l’argument <code>levels</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transformer un vecteur en facteur</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>pingouins<span class="sc">$</span><span class="st">`</span><span class="at">Echantillon Numero</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(pingouins<span class="sc">$</span><span class="st">`</span><span class="at">Echantillon Numero</span><span class="st">`</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>pingouins<span class="sc">$</span>Espece <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(pingouins<span class="sc">$</span>Espece)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>pingouins<span class="sc">$</span>Ile <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(pingouins<span class="sc">$</span>Ile)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vérifiez que les corrections apportées aient bien été appliquées au jeu de données :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(pingouins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> etudeNumero        Echantillon Numero
 Length:344         1      :  3       
 Class :character   2      :  3       
 Mode  :character   3      :  3       
                    4      :  3       
                    5      :  3       
                    6      :  3       
                    (Other):326       
                                       Espece           Ile     
 Adelie Penguin (Pygoscelis adeliae)      :152   Biscoe   :168  
 Chinstrap penguin (Pygoscelis antarctica): 68   Dream    :124  
 Gentoo penguin (Pygoscelis papua)        :124   Torgersen: 52  
                                                                
                                                                
                                                                
                                                                
 ID Individu        Longueur Bec (mm) Hauteur Bec (mm) Longueur Aile (mm)
 Length:344         Min.   :32.10     Min.   :13.10    Min.   :172.0     
 Class :character   1st Qu.:39.23     1st Qu.:15.60    1st Qu.:190.0     
 Mode  :character   Median :44.45     Median :17.30    Median :197.0     
                    Mean   :43.92     Mean   :17.15    Mean   :200.9     
                    3rd Qu.:48.50     3rd Qu.:18.70    3rd Qu.:213.0     
                    Max.   :59.60     Max.   :21.50    Max.   :231.0     
                    NA's   :2         NA's   :2        NA's   :2         
 Masse corporelle (g)
 Min.   :2700        
 1st Qu.:3550        
 Median :4050        
 Mean   :4202        
 3rd Qu.:4750        
 Max.   :6300        
 NA's   :2           </code></pre>
</div>
</div>
<p><img src="img/rstudio_23.png" class="img-fluid" style="width:100.0%"></p>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Bonne pratiques : structurer son script
</div>
</div>
<div class="callout-body-container callout-body">
<p>Votre script commence à être bien fourni. Vous pouvez le diviser en différentes parties pour simplifier la lecture. Pour cela, ajoutez des titres sous forme de commentaires et accolez des tirets (au moins quatre) pour signaler à R qu’il s’agit de divisions dans votre script.</p>
<p><img src="img/rstudio_24.png" class="img-fluid" style="width:100.0%"></p>
<p>En cliquant sur l’icône <strong>Menu</strong> à droite vous aurez accès à une table des matières dans laquelle vous pourrez naviguer en cliquant sur la partie qui vous intéresse.</p>
<p><img src="img/rstudio_25.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Raccourcis clavier : les sections d’un script
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour afficher le sommaire de votre script, utilisez la combinaison <strong>Ctrl + Shift + O</strong>.<br>
Vous pouvez également replier (<strong>Alt + O</strong>) ou déplier (<strong>Alt + Shift + O</strong>) les sections.</p>
</div>
</div>
</section>
<section id="extraire-des-données" class="level2">
<h2 class="anchored" data-anchor-id="extraire-des-données">Extraire des données</h2>
<p>Notre jeu de données contient les mesures de différents paramètres pour trois espèces de pingouins. Nous aimerions séparer ce jeu de données en trois tableaux, un pour chacune des espèces.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Sélectionner des données
</div>
</div>
<div class="callout-body-container callout-body">
<p>Dans R, la sélection de données, que ce soit une cellule, une ligne ou une colonne d’un tableau, ou encore un élément dans une chaîne, s’effectue à l’aide des <strong>crochets []</strong>.</p>
<ul>
<li><p>Dans le cas d’un objet à <strong>deux dimensions</strong>, la sélection s’effectue en précisant deux paramètres séparés par une virgule : la ou les ligne(s) et la ou les colonne(s). Pour sélectionner l’ensemble d’une des deux dimensions, on utilise un espace vide d’un côté ou de l’autre de la virgule. Pour sélectionner plusieurs lignes ou colonnes, vous pouvez utiliser soit l’opérateur <code>:</code> si les lignes ou les colonnes se suivent, soit l’opérateur de concaténation <code>c()</code> (vous pouvez combiner les deux).</p></li>
<li><p>Pour un objet à <strong>une seule dimension</strong>, un seul paramètre est nécessaire (de la même façon, vous pouvez combiner les éléments avec les opérateurs <code>:</code> et <code>c()</code>) :</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selectionner la 3e ligne et la 5e colonne : </span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>pingouins[<span class="dv">3</span>, <span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "N2A1"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selectionner la 3e ligne : </span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>pingouins[<span class="dv">3</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  etudeNumero Echantillon Numero                              Espece       Ile
3     PAL0708                  3 Adelie Penguin (Pygoscelis adeliae) Torgersen
  ID Individu Longueur Bec (mm) Hauteur Bec (mm) Longueur Aile (mm)
3        N2A1              40.3               18                195
  Masse corporelle (g)
3                 3250</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selectionner la 5e colonne : </span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>pingouins[, <span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] "N1A1"   "N1A2"   "N2A1"   "N2A2"   "N3A1"   "N3A2"   "N4A1"   "N4A2"  
  [9] "N5A1"   "N5A2"   "N6A1"   "N6A2"   "N7A1"   "N7A2"   "N8A1"   "N8A2"  
 [17] "N9A1"   "N9A2"   "N10A1"  "N10A2"  "N11A1"  "N11A2"  "N12A1"  "N12A2" 
 [25] "N13A1"  "N13A2"  "N17A1"  "N17A2"  "N18A1"  "N18A2"  "N21A1"  "N21A2" 
 [33] "N22A1"  "N22A2"  "N23A1"  "N23A2"  "N24A1"  "N24A2"  "N25A1"  "N25A2" 
 [41] "N26A1"  "N26A2"  "N27A1"  "N27A2"  "N28A1"  "N28A2"  "N29A1"  "N29A2" 
 [49] "N30A1"  "N30A2"  "N21A1"  "N21A2"  "N22A1"  "N22A2"  "N23A1"  "N23A2" 
 [57] "N24A1"  "N24A2"  "N25A1"  "N25A2"  "N27A1"  "N27A2"  "N28A1"  "N28A2" 
 [65] "N29A1"  "N29A2"  "N30A1"  "N30A2"  "N32A1"  "N32A2"  "N34A1"  "N34A2" 
 [73] "N35A1"  "N35A2"  "N36A1"  "N36A2"  "N37A1"  "N37A2"  "N38A1"  "N38A2" 
 [81] "N39A1"  "N39A2"  "N40A1"  "N40A2"  "N41A1"  "N41A2"  "N42A1"  "N42A2" 
 [89] "N44A1"  "N44A2"  "N45A1"  "N45A2"  "N46A1"  "N46A2"  "N48A1"  "N48A2" 
 [97] "N49A1"  "N49A2"  "N50A1"  "N50A2"  "N47A1"  "N47A2"  "N49A1"  "N49A2" 
[105] "N51A1"  "N51A2"  "N53A1"  "N53A2"  "N55A1"  "N55A2"  "N58A1"  "N58A2" 
[113] "N60A1"  "N60A2"  "N61A1"  "N61A2"  "N63A1"  "N63A2"  "N64A1"  "N64A2" 
[121] "N66A1"  "N66A2"  "N67A1"  "N67A2"  "N69A1"  "N69A2"  "N71A1"  "N71A2" 
[129] "N72A1"  "N72A2"  "N73A1"  "N73A2"  "N76A1"  "N76A2"  "N77A1"  "N77A2" 
[137] "N78A1"  "N78A2"  "N79A1"  "N79A2"  "N80A1"  "N80A2"  "N81A1"  "N81A2" 
[145] "N82A1"  "N82A2"  "N83A1"  "N83A2"  "N84A1"  "N84A2"  "N85A1"  "N85A2" 
[153] "N31A1"  "N31A2"  "N32A1"  "N32A2"  "N33A1"  "N33A2"  "N34A1"  "N34A2" 
[161] "N35A1"  "N35A2"  "N36A1"  "N36A2"  "N37A1"  "N37A2"  "N38A1"  "N38A2" 
[169] "N39A1"  "N39A2"  "N40A1"  "N40A2"  "N41A1"  "N41A2"  "N42A1"  "N42A2" 
[177] "N44A1"  "N44A2"  "N46A1"  "N46A2"  "N47A1"  "N47A2"  "N50A1"  "N50A2" 
[185] "N56A1"  "N56A2"  "N2A1"   "N2A2"   "N4A1"   "N4A2"   "N5A1"   "N5A2"  
[193] "N6A1"   "N6A2"   "N7A1"   "N7A2"   "N8A1"   "N8A2"   "N11A1"  "N11A2" 
[201] "N12A1"  "N12A2"  "N13A1"  "N13A2"  "N14A1"  "N14A2"  "N15A1"  "N15A2" 
[209] "N16A1"  "N16A2"  "N17A1"  "N17A2"  "N18A1"  "N18A2"  "N19A1"  "N19A2" 
[217] "N20A1"  "N20A2"  "N51A1"  "N51A2"  "N53A1"  "N53A2"  "N54A1"  "N54A2" 
[225] "N55A1"  "N55A2"  "N56A1"  "N56A2"  "N58A1"  "N58A2"  "N60A1"  "N60A2" 
[233] "N1A1"   "N1A2"   "N6A1"   "N6A2"   "N8A1"   "N8A2"   "N13A1"  "N13A2" 
[241] "N14A1"  "N14A2"  "N15A1"  "N15A2"  "N18A1"  "N18A2"  "N19A1"  "N19A2" 
[249] "N20A1"  "N20A2"  "N21A1"  "N21A2"  "N22A1"  "N22A2"  "N23A1"  "N23A2" 
[257] "N24A1"  "N24A2"  "N28A1"  "N28A2"  "N29A1"  "N29A2"  "N32A1"  "N32A2" 
[265] "N34A1"  "N34A2"  "N35A1"  "N35A2"  "N36A1"  "N36A2"  "N38A1"  "N38A2" 
[273] "N39A1"  "N39A2"  "N43A1"  "N43A2"  "N61A1"  "N61A2"  "N62A1"  "N62A2" 
[281] "N64A1"  "N64A2"  "N66A1"  "N66A2"  "N67A1"  "N67A2"  "N68A1"  "N68A2" 
[289] "N69A1"  "N69A2"  "N70A1"  "N70A2"  "N71A1"  "N71A2"  "N72A1"  "N72A2" 
[297] "N73A1"  "N73A2"  "N85A1"  "N85A2"  "N89A1"  "N89A2"  "N61A1"  "N61A2" 
[305] "N62A1"  "N62A2"  "N63A1"  "N63A2"  "N65A1"  "N65A2"  "N67A1"  "N67A2" 
[313] "N69A1"  "N69A2"  "N72A1"  "N72A2"  "N74A1"  "N74A2"  "N75A1"  "N75A2" 
[321] "N86A1"  "N86A2"  "N87A1"  "N87A2"  "N88A1"  "N88A2"  "N90A1"  "N90A2" 
[329] "N92A1"  "N92A2"  "N93A1"  "N93A2"  "N94A1"  "N94A2"  "N95A1"  "N95A2" 
[337] "N96A1"  "N96A2"  "N98A1"  "N98A2"  "N99A1"  "N99A2"  "N100A1" "N100A2"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selectionner les lignes 40 à 45 : </span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>pingouins[<span class="dv">40</span><span class="sc">:</span><span class="dv">45</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   etudeNumero Echantillon Numero                              Espece   Ile
40     PAL0708                 40 Adelie Penguin (Pygoscelis adeliae) Dream
41     PAL0708                 41 Adelie Penguin (Pygoscelis adeliae) Dream
42     PAL0708                 42 Adelie Penguin (Pygoscelis adeliae) Dream
43     PAL0708                 43 Adelie Penguin (Pygoscelis adeliae) Dream
44     PAL0708                 44 Adelie Penguin (Pygoscelis adeliae) Dream
45     PAL0708                 45 Adelie Penguin (Pygoscelis adeliae) Dream
   ID Individu Longueur Bec (mm) Hauteur Bec (mm) Longueur Aile (mm)
40       N25A2              39.8             19.1                184
41       N26A1              36.5             18.0                182
42       N26A2              40.8             18.4                195
43       N27A1              36.0             18.5                186
44       N27A2              44.1             19.7                196
45       N28A1              37.0             16.9                185
   Masse corporelle (g)
40                 4650
41                 3150
42                 3900
43                 3100
44                 4400
45                 3000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selectionner les colonnes 2 et 4 : </span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>pingouins[, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Echantillon Numero       Ile
1                    1 Torgersen
2                    2 Torgersen
3                    3 Torgersen
4                    4 Torgersen
5                    5 Torgersen
6                    6 Torgersen
7                    7 Torgersen
8                    8 Torgersen
9                    9 Torgersen
10                  10 Torgersen
11                  11 Torgersen
12                  12 Torgersen
13                  13 Torgersen
14                  14 Torgersen
15                  15 Torgersen
16                  16 Torgersen
17                  17 Torgersen
18                  18 Torgersen
19                  19 Torgersen
20                  20 Torgersen
21                  21    Biscoe
22                  22    Biscoe
23                  23    Biscoe
24                  24    Biscoe
25                  25    Biscoe
26                  26    Biscoe
27                  27    Biscoe
28                  28    Biscoe
29                  29    Biscoe
30                  30    Biscoe
31                  31     Dream
32                  32     Dream
33                  33     Dream
34                  34     Dream
35                  35     Dream
36                  36     Dream
37                  37     Dream
38                  38     Dream
39                  39     Dream
40                  40     Dream
41                  41     Dream
42                  42     Dream
43                  43     Dream
44                  44     Dream
45                  45     Dream
46                  46     Dream
47                  47     Dream
48                  48     Dream
49                  49     Dream
50                  50     Dream
51                  51    Biscoe
52                  52    Biscoe
53                  53    Biscoe
54                  54    Biscoe
55                  55    Biscoe
56                  56    Biscoe
57                  57    Biscoe
58                  58    Biscoe
59                  59    Biscoe
60                  60    Biscoe
61                  61    Biscoe
62                  62    Biscoe
63                  63    Biscoe
64                  64    Biscoe
65                  65    Biscoe
66                  66    Biscoe
67                  67    Biscoe
68                  68    Biscoe
69                  69 Torgersen
70                  70 Torgersen
71                  71 Torgersen
72                  72 Torgersen
73                  73 Torgersen
74                  74 Torgersen
75                  75 Torgersen
76                  76 Torgersen
77                  77 Torgersen
78                  78 Torgersen
79                  79 Torgersen
80                  80 Torgersen
81                  81 Torgersen
82                  82 Torgersen
83                  83 Torgersen
84                  84 Torgersen
85                  85     Dream
86                  86     Dream
87                  87     Dream
88                  88     Dream
89                  89     Dream
90                  90     Dream
91                  91     Dream
92                  92     Dream
93                  93     Dream
94                  94     Dream
95                  95     Dream
96                  96     Dream
97                  97     Dream
98                  98     Dream
99                  99     Dream
100                100     Dream
101                101    Biscoe
102                102    Biscoe
103                103    Biscoe
104                104    Biscoe
105                105    Biscoe
106                106    Biscoe
107                107    Biscoe
108                108    Biscoe
109                109    Biscoe
110                110    Biscoe
111                111    Biscoe
112                112    Biscoe
113                113    Biscoe
114                114    Biscoe
115                115    Biscoe
116                116    Biscoe
117                117 Torgersen
118                118 Torgersen
119                119 Torgersen
120                120 Torgersen
121                121 Torgersen
122                122 Torgersen
123                123 Torgersen
124                124 Torgersen
125                125 Torgersen
126                126 Torgersen
127                127 Torgersen
128                128 Torgersen
129                129 Torgersen
130                130 Torgersen
131                131 Torgersen
132                132 Torgersen
133                133     Dream
134                134     Dream
135                135     Dream
136                136     Dream
137                137     Dream
138                138     Dream
139                139     Dream
140                140     Dream
141                141     Dream
142                142     Dream
143                143     Dream
144                144     Dream
145                145     Dream
146                146     Dream
147                147     Dream
148                148     Dream
149                149     Dream
150                150     Dream
151                151     Dream
152                152     Dream
153                  1    Biscoe
154                  2    Biscoe
155                  3    Biscoe
156                  4    Biscoe
157                  5    Biscoe
158                  6    Biscoe
159                  7    Biscoe
160                  8    Biscoe
161                  9    Biscoe
162                 10    Biscoe
163                 11    Biscoe
164                 12    Biscoe
165                 13    Biscoe
166                 14    Biscoe
167                 15    Biscoe
168                 16    Biscoe
169                 17    Biscoe
170                 18    Biscoe
171                 19    Biscoe
172                 20    Biscoe
173                 21    Biscoe
174                 22    Biscoe
175                 23    Biscoe
176                 24    Biscoe
177                 25    Biscoe
178                 26    Biscoe
179                 27    Biscoe
180                 28    Biscoe
181                 29    Biscoe
182                 30    Biscoe
183                 31    Biscoe
184                 32    Biscoe
185                 33    Biscoe
186                 34    Biscoe
187                 35    Biscoe
188                 36    Biscoe
189                 37    Biscoe
190                 38    Biscoe
191                 39    Biscoe
192                 40    Biscoe
193                 41    Biscoe
194                 42    Biscoe
195                 43    Biscoe
196                 44    Biscoe
197                 45    Biscoe
198                 46    Biscoe
199                 47    Biscoe
200                 48    Biscoe
201                 49    Biscoe
202                 50    Biscoe
203                 51    Biscoe
204                 52    Biscoe
205                 53    Biscoe
206                 54    Biscoe
207                 55    Biscoe
208                 56    Biscoe
209                 57    Biscoe
210                 58    Biscoe
211                 59    Biscoe
212                 60    Biscoe
213                 61    Biscoe
214                 62    Biscoe
215                 63    Biscoe
216                 64    Biscoe
217                 65    Biscoe
218                 66    Biscoe
219                 67    Biscoe
220                 68    Biscoe
221                 69    Biscoe
222                 70    Biscoe
223                 71    Biscoe
224                 72    Biscoe
225                 73    Biscoe
226                 74    Biscoe
227                 75    Biscoe
228                 76    Biscoe
229                 77    Biscoe
230                 78    Biscoe
231                 79    Biscoe
232                 80    Biscoe
233                 81    Biscoe
234                 82    Biscoe
235                 83    Biscoe
236                 84    Biscoe
237                 85    Biscoe
238                 86    Biscoe
239                 87    Biscoe
240                 88    Biscoe
241                 89    Biscoe
242                 90    Biscoe
243                 91    Biscoe
244                 92    Biscoe
245                 93    Biscoe
246                 94    Biscoe
247                 95    Biscoe
248                 96    Biscoe
249                 97    Biscoe
250                 98    Biscoe
251                 99    Biscoe
252                100    Biscoe
253                101    Biscoe
254                102    Biscoe
255                103    Biscoe
256                104    Biscoe
257                105    Biscoe
258                106    Biscoe
259                107    Biscoe
260                108    Biscoe
261                109    Biscoe
262                110    Biscoe
263                111    Biscoe
264                112    Biscoe
265                113    Biscoe
266                114    Biscoe
267                115    Biscoe
268                116    Biscoe
269                117    Biscoe
270                118    Biscoe
271                119    Biscoe
272                120    Biscoe
273                121    Biscoe
274                122    Biscoe
275                123    Biscoe
276                124    Biscoe
277                  1     Dream
278                  2     Dream
279                  3     Dream
280                  4     Dream
281                  5     Dream
282                  6     Dream
283                  7     Dream
284                  8     Dream
285                  9     Dream
286                 10     Dream
287                 11     Dream
288                 12     Dream
289                 13     Dream
290                 14     Dream
291                 15     Dream
292                 16     Dream
293                 17     Dream
294                 18     Dream
295                 19     Dream
296                 20     Dream
297                 21     Dream
298                 22     Dream
299                 23     Dream
300                 24     Dream
301                 25     Dream
302                 26     Dream
303                 27     Dream
304                 28     Dream
305                 29     Dream
306                 30     Dream
307                 31     Dream
308                 32     Dream
309                 33     Dream
310                 34     Dream
311                 35     Dream
312                 36     Dream
313                 37     Dream
314                 38     Dream
315                 39     Dream
316                 40     Dream
317                 41     Dream
318                 42     Dream
319                 43     Dream
320                 44     Dream
321                 45     Dream
322                 46     Dream
323                 47     Dream
324                 48     Dream
325                 49     Dream
326                 50     Dream
327                 51     Dream
328                 52     Dream
329                 53     Dream
330                 54     Dream
331                 55     Dream
332                 56     Dream
333                 57     Dream
334                 58     Dream
335                 59     Dream
336                 60     Dream
337                 61     Dream
338                 62     Dream
339                 63     Dream
340                 64     Dream
341                 65     Dream
342                 66     Dream
343                 67     Dream
344                 68     Dream</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selectionner les lignes 50 et 100 à 105 : </span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>pingouins[<span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">100</span><span class="sc">:</span><span class="dv">105</span>), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    etudeNumero Echantillon Numero                              Espece    Ile
50      PAL0708                 50 Adelie Penguin (Pygoscelis adeliae)  Dream
100     PAL0809                100 Adelie Penguin (Pygoscelis adeliae)  Dream
101     PAL0910                101 Adelie Penguin (Pygoscelis adeliae) Biscoe
102     PAL0910                102 Adelie Penguin (Pygoscelis adeliae) Biscoe
103     PAL0910                103 Adelie Penguin (Pygoscelis adeliae) Biscoe
104     PAL0910                104 Adelie Penguin (Pygoscelis adeliae) Biscoe
105     PAL0910                105 Adelie Penguin (Pygoscelis adeliae) Biscoe
    ID Individu Longueur Bec (mm) Hauteur Bec (mm) Longueur Aile (mm)
50        N30A2              42.3             21.2                191
100       N50A2              43.2             18.5                192
101       N47A1              35.0             17.9                192
102       N47A2              41.0             20.0                203
103       N49A1              37.7             16.0                183
104       N49A2              37.8             20.0                190
105       N51A1              37.9             18.6                193
    Masse corporelle (g)
50                  4150
100                 4100
101                 3725
102                 4725
103                 3075
104                 4250
105                 2925</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selectionner le 45e element de la variable Ile</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>pingouins<span class="sc">$</span>Ile[<span class="dv">45</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Dream
Levels: Biscoe Dream Torgersen</code></pre>
</div>
</div>
</div>
</div>
<p>Les noms des espèces étant assez complexes, nous allons commencer par les extraire et les stocker dans un vecteur :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>especes <span class="ot">&lt;-</span> <span class="fu">unique</span>(pingouins<span class="sc">$</span>Espece)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Séparons maintenant le tableau d’origine en trois tableaux. Pour l’espèce <em>Adelie</em>, nous extrayons les lignes du tableau pingouins dont la colonne Espece est égale au premier élément du vecteur especes, etc.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Les opérateurs de comparaison
</div>
</div>
<div class="callout-body-container callout-body">
<table class="table">
<tbody>
<tr class="odd">
<td style="text-align: center;">==</td>
<td style="text-align: left;">égal</td>
</tr>
<tr class="even">
<td style="text-align: center;">!=</td>
<td style="text-align: left;">différent</td>
</tr>
<tr class="odd">
<td style="text-align: center;">&lt;</td>
<td style="text-align: left;">inférieur à</td>
</tr>
<tr class="even">
<td style="text-align: center;">&lt;=</td>
<td style="text-align: left;">inférieur ou égal à</td>
</tr>
<tr class="odd">
<td style="text-align: center;">&gt;</td>
<td style="text-align: left;">supérieur à</td>
</tr>
<tr class="even">
<td style="text-align: center;">&gt;=</td>
<td style="text-align: left;">supérieur ou égal à</td>
</tr>
<tr class="odd">
<td style="text-align: center;">==</td>
<td style="text-align: left;">égal</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>adelie <span class="ot">&lt;-</span> pingouins[pingouins<span class="sc">$</span>Espece <span class="sc">==</span> especes[<span class="dv">1</span>], ]</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>gentoo <span class="ot">&lt;-</span> pingouins[pingouins<span class="sc">$</span>Espece <span class="sc">==</span> especes[<span class="dv">2</span>], ]</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>chinstrap <span class="ot">&lt;-</span> pingouins[pingouins<span class="sc">$</span>Espece <span class="sc">==</span> especes[<span class="dv">3</span>], ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Créons maintenant un vecteur contenant le nombre d’observations pour chaque tableau, à l’aide de la fonction <code>nrow()</code> (permet de compter le nombre de ligne d’un tableau) :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>nb_ind <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">nrow</span>(adelie), <span class="fu">nrow</span>(gentoo), <span class="fu">nrow</span>(chinstrap))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ajoutons à ce vecteur des étiquettes avec les noms des trois espèces :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(nb_ind) <span class="ot">&lt;-</span> especes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img src="img/rstudio_25.png" class="img-fluid" style="width:100.0%"></p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
La fonction <code>table()</code>
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous obtiendrez la même chose à l’aide de la commande <code>table(pingouins$Espece)</code> (seul l’ordre des espèces varie)</p>
</div>
</div>
</section>
</section>
<section id="représenter-des-données" class="level1">
<h1>Représenter des données</h1>
<section id="diagramme-en-barres-barplot" class="level2">
<h2 class="anchored" data-anchor-id="diagramme-en-barres-barplot">Diagramme en barres (barplot)</h2>
<p>Nous pouvons représenter visuellement le nombre de pingouins par espèce à l’aide de la fonction <code>barplot()</code>. Le graphique s’affichera dans le panneau inférieur droit de RStudio.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(nb_ind)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Vous pouvez voir que plusieurs points peuvent être améliorés :</p>
<ul>
<li>ajuster l’axe des ordonnées pour inclure la valeur maximale<br>
</li>
<li>ajuster la taille des étiquettes de l’axe de abscisses pour que les trois noms d’espèces soient lisibles<br>
</li>
<li>ajouter un titre à l’axe des ordonnées et au graphique<br>
</li>
<li>modifier la couleur des barres</li>
</ul>
<p>Pour trouver comment modifier ces différents paramètres, vous pouvez utiliser l’aide de la fonction (<code>?barplot</code>) ou l’aide plus générales pour les graphiques (<code>?par</code>).</p>
<p>Pour rendre la graphique plus lisible, nous aimerions que le nom des espèces soit situé sur deux lignes. Nous allons pour cela modifier les noms de notre vecteur <strong>nb_ind</strong> à l’aide de la fonction <code>gsub()</code>. Cette fonction permet de remplacer un motif par au autre dans une chaîne et s’utilise de la façon suivante : <code>gsub(motif a remplacer, motif de remplacer, objet a modifier)</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(nb_ind) <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"("</span>, <span class="st">"</span><span class="sc">\n</span><span class="st">("</span>, <span class="fu">names</span>(nb_ind), <span class="at">fixed =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Nous allons utiliser les paramètres suivants :</p>
<ul>
<li><strong>main</strong> pour ajouter un titre au graphique<br>
</li>
<li><strong>ylab</strong> pour ajouter un titre à l’axe des ordonnées<br>
</li>
<li><strong>ylim</strong> pour ajuster l’axe des ordonnées<br>
</li>
<li><strong>cex</strong> pour modifier la taille du texte<br>
</li>
<li><strong>col</strong> pour modifier la couleur des barres</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(nb_ind,</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">"Trois especes de pingouins vivant en Antarctique"</span>,</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">"Nombre d'individus par espece"</span>,</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">200</span>),</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">col =</span> <span class="st">"blue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="histogramme" class="level2">
<h2 class="anchored" data-anchor-id="histogramme">Histogramme</h2>
<p>Etudions maintenant la distribution de la variable <strong>Longueur des ailes</strong> à l’aide d’un histogramme :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(pingouins<span class="sc">$</span><span class="st">`</span><span class="at">Longueur Aile (mm)</span><span class="st">`</span>,</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Distribution de la longueur des ailes"</span>,</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Longueur des ailes (en mm)"</span>,</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Frequence"</span>,</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"orange"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Il semble y avoir deux groupes, vérifions cela à l’aide d’un autre type de graphique.</p>
</section>
<section id="boxplot" class="level2">
<h2 class="anchored" data-anchor-id="boxplot">Boxplot</h2>
<p>Les graphiques dits en “boîtes à moustaches” donnent une bonne indication de la manière dont se distribue une variable numérique : médiane, quartiles, valeurs aberrantes, …</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(pingouins<span class="sc">$</span><span class="st">`</span><span class="at">Longueur Aile (mm)</span><span class="st">`</span> <span class="sc">~</span> pingouins<span class="sc">$</span>Espece)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="scatter-plot" class="level2">
<h2 class="anchored" data-anchor-id="scatter-plot">Scatter plot</h2>
<p>Regardons maintenant la relation entre la longueur du bec et la longueur des ailes</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>pingouins<span class="sc">$</span>col[pingouins<span class="sc">$</span>Espece <span class="sc">==</span> especes[<span class="dv">1</span>]] <span class="ot">&lt;-</span> <span class="st">"blue"</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>pingouins<span class="sc">$</span>col[pingouins<span class="sc">$</span>Espece <span class="sc">==</span> especes[<span class="dv">2</span>]] <span class="ot">&lt;-</span> <span class="st">"red"</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>pingouins<span class="sc">$</span>col[pingouins<span class="sc">$</span>Espece <span class="sc">==</span> especes[<span class="dv">3</span>]] <span class="ot">&lt;-</span> <span class="st">"green"</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pingouins<span class="sc">$</span><span class="st">`</span><span class="at">Longueur Aile (mm)</span><span class="st">`</span>, pingouins<span class="sc">$</span><span class="st">`</span><span class="at">Longueur Bec (mm)</span><span class="st">`</span>,</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> pingouins<span class="sc">$</span>col)</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="at">x =</span> <span class="dv">200</span>, <span class="at">y =</span> <span class="dv">45</span>, <span class="at">legend =</span> <span class="fu">c</span>(especes[<span class="dv">1</span>], especes[<span class="dv">2</span>], especes[<span class="dv">3</span>]),</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>, <span class="st">"green"</span>), <span class="at">cex =</span> <span class="fl">0.75</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>