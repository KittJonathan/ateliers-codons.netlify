{
  "hash": "ea6828781ff2ea8da2f83dbccb10ea5d",
  "result": {
    "markdown": "---\ntitle: \"Premiers pas avec R\"\nsubtitle: \"Se familiariser avec R et manipuler des données\"\nauthor:\n  - Gergana Daskalova\n  - Jonathan Kitt (adaptation)\ndate: \"2022-10-13\"\ncategories: [R, RStudio, bases]\nformat: \n  html: \n    toc: true\n    toc-depth: 2\n    toc-title: \"Sommaire\"\n---\n\n::: {.cell}\n\n:::\n\n\n*Ce tutoriel est adapté de [Getting started with R and RStudio](https://ourcodingclub.github.io/tutorials/intro-to-r/) du site [Our Coding Club](https://ourcodingclub.github.io/).*\n\n<br>\n\n::: {.callout-note icon=\"true\"}\n## Note\n\nPour savoir comment installer R et RStudio, cliquez [ici](https://ateliers-codons.netlify.app/posts/01-installer-r-et-rstudio/)\n:::\n\n<br>\n\n# Introduction {#r_intro}\n\n## Qu'est-ce que R ? {#r_def}\n\n<br>\n\nR est un **langage de programmation statistique** qui a rapidement gagné en popularité dans de nombreux domaines scientifiques.\n\nIl a été développé par **Ross Ihaka** et **Robert Gentleman**, du Département de Statistiques de l'Université d'Auckland, comme **implémentation libre du langage de programmation S**.\n\n<br>\n\n::: {.callout-tip icon=\"true\"}\n## Quelques dates\n\n|      |                                                                                                                                     |\n|----------------|--------------------------------------------------------|\n| 1991 | Création du langage R                                                                                                               |\n| 1993 | R est dévoilé au public                                                                                                             |\n| 1996 | [Article dans le *Journal of Computational and Graphical Statistics*](https://www.stat.auckland.ac.nz/~ihaka/downloads/R-paper.pdf) |\n:::\n\n<br>\n\nR désigne également le **logiciel** qui utilise ce langage pour des calculs statistiques (et tout un tas d'autres applications !).\n\nIl dispose d'une **communauté** en ligne très active ainsi que d'**extensions** pour presque tous les domaines et applications possibles et imaginables.\n\n<br>\n\nContrairement à d'autres logiciels de statistiques comme Minitab ou SPSS, R peut être exécuté entièrement en **ligne de commande** et ne nécessite pas d'interface graphique, ce qui lui confère une **grande flexibilité**.\n\n<br>\n\n::: {.callout-tip icon=\"true\"}\n## Quelques avantages de R\n\n-   C'est un outil **libre et open source** (tout le monde peut utiliser le code et voir comment il fonctionne)\\\n-   C'est un langage de programmation plutôt qu'une interface graphique, ce qui permet à l'utilisateur de sauvegarder facilement des **scripts** sous forme de texte pour les ré-utiliser ou les partager\\\n-   Beaucoup de personnes l'utilisent dans beaucoup de domaines différents - **il est rare d'être confronté à un problème qui n'a jamais été résolu !**\n:::\n\n<br>\n\n## Naviguer dans RStudio {#naviguer_rstudio}\n\n<br>\n\nEn ouvrant RStudio, vous verrez une fenêtre comme celle ci-dessous, qui se divise en trois panneaux :\n\n![](img/rstudio_01.png){width=\"100%\"}\n\n<br>\n\n### La console\n\nVous pouvez y taper du code et l'exécuter en appuyant sur `Entrée`.\n\nLors du lancement d'une session RStudio, elle affiche également des informations comme la version de R présente sur votre ordinateur et des indications sur la manière d'obtenir de l'aide.\n\n::: {.callout-tip icon=\"true\"}\n## L'invite de commande\n\nDans la console, une ligne commence par `>` : c'est ce qu'on appelle l'**invite de commande**. Cela indique que R est prêt à recevoir vos instructions !\n\nTapez `2+2` puis appuyez sur `Entrée` : la console affiche le résultat.\n:::\n\n### L'espace de travail\n\nVous y trouverez votre environnement (données importées, objets créés, fonctions définies, ...), ainsi que d'autres onglets comme l'historique des commandes exécutées ou l'accès à des tutoriels (pour les versions récentes de RStudio).\n\n::: {.callout-tip icon=\"true\"}\n## Un langage orienté objet\n\nR est un langage orienté objet, ce qui veut dire que tout ce que vous manipulez dans R est stocké dans un objet.\n:::\n\nD'autres onglets vous permettent d'accéder à l'historique des commandes ou encore à des tutoriels (pour les versions les plus récentes de RStudio).\n\n### Le navigateur\n\nCe navigateur vous permet de navigeur dans vos dossiers, de copier, renommer ou supprimer des fichiers, à la manière d'un explorateur classique.\n\nLes autres onglets permettent de visualiser les graphiques ou encore d'afficher l'aide.\n\n### Le script\n\n::: {.callout-important icon=\"true\"}\n## Important\n\nLe code tapé et exécuté dans la console ne sera plus disponible quand vous quitterez votre session RStudio. A la manière d'un document Word, un script vous permet de sauvegarder votre code afin d'y accéder ultérieurement ou de le partager.\n:::\n\nPour ouvrir un nouveau script, cliquez sur le \"plus\" dans le coin supérieur gauche de la fenêtre RStudio puis sur **R Script**.\n\n![](img/rstudio_09.png){width=\"100%\"}\n\n::: {.callout-tip icon=\"true\"}\n## Raccourcis clavier : nouveau script\n\nPour ouvrir un nouveau script, utilisez la combinaison **Ctrl + Shift + N**\n:::\n\nUn nouveau panneau s'affiche :\n\n![](img/rstudio_10.png){width=\"100%\"}\n\n<br>\n\n# Organiser son travail\n\n## Créer un projet\n\nPour éviter de perdre du temps à chercher des fichiers dont on a oublié le nom et l'emplacement, il est utile d'organiser son travail à l'aide de **projets**.\n\nPour créer un projet, cliquez sur **File** puis **New project...** :\n\n![](img/rstudio_02.png){width=\"100%\"}\n\nChoisissez **New Directory** puis **New Project**\n\n![](img/rstudio_03.png){width=\"100%\"}\n\n![](img/rstudio_04.png){width=\"100%\"}\n\nDans la fenêtre **Create New Project**, attribuez un nom et un emplacement au projet, puis cliquez sur **Create project**\n\n![](img/rstudio_05.png){width=\"100%\"}\n\nQuand vous voudrez travailler à nouveau sur ces données, il vous suffira de double-cliquer sur le fichier `.Rproj` pour ouvrir le projet et accéder à tout ce qu'il contient.\n\n![](img/rstudio_06.png){width=\"100%\"}\n\n::: {.callout-caution icon=\"true\"}\n## Bonne pratiques : nommer ses fichiers et dossiers\n\nPour vous simplifier la vie, voici quelques recommandations :\n\n-   privilégiez les noms courts et explicites (à éviter : *fichier_2e_version_a\\_verifier.txt*)\n-   ne mettez ni espace ni caractères spéciaux (accents, symboles, ...)\\\n-   pour les dates, privilégiez le format **AAAAMMJJ** (année, mois, jour)\n-   mettez l'élément le plus important en premier (par exemple : *projet_date_contenu*)\\\n-   optez pour l'une de ces deux conventions d'écritre : **camel case** (*MonProjet*) ou **snake case** (*mon_projet*)\n\nUne fois que vous avez trouvé une façon de procéder, utlisez-la pour l'ensemble de vos fichiers afin de rester cohérent !\n:::\n\n## Créer une arborescence\n\nIl est toujours préférable de passer un peu de temps à bien organiser un projet lors de sa création, plutôt que de passer beaucoup de temps par la suite à déplacer des fichiers, les renommer, les rechercher, ...\n\nPour créer un nouveau dossier dans votre projet, cliquez sur **New Folder** dans l'onglet **Files** du navigateur : ![](img/rstudio_07.png){width=\"100%\"}\n\nL'organisation proposée ci-dessous est utilisable dans une très grande majorité de cas :\n\n-   **raw** : contient les données brutes qui seront utilisées mais laisées en l'état.\\\n-   **data** : contient les données issues de la manipulation des données brutes (sous-ensembles, données corrigées, renommées, nouvelles variables calculées, ...)\\\n-   **scripts** : contient le code utilisé pour manipuler les données, générer les figures, rédiger les rapports, ...\n-   **resultats** : contient les fichiers de résultats issus de l'analyse.\n-   **figures** : contient les graphiques et figures générées lors de l'analyse.\\\n-   **docs** : contient les rapports rédigés au cours de l'analyse, les présentations de résultats, des articles en lien avec l'analyse, les documents concernant les outils utlisés, ...\n\n![](img/rstudio_08.png){width=\"100%\"}\n\n\n# Importer les données\n\nSi ce n'est pas encore fait, ouvrez un nouveau script.\n\n::: {.callout-caution icon=\"true\"}\n## Bonne pratiques : commenter ses scripts\n\nPrenez dès maintenant l'habitude de commenter vos scripts. Il s'agit de rédiger des commentaires qui expliquent ce que fait votre code, pour le rendre plus compréhensible par vos collègues - et par vous-même quand vous reviendrez sur un script après un certain temps ! Pour ajouter un commentaire, utiliser un `#` au début d'une ligne puis rédigez votre commentaire. Dans R, un code placé après un `#` n'est pas exécuté :\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ceci est un commentaire qui ne sera pas exécuté\n# La ligne suivante sera exécutée\n2 + 2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 4\n```\n:::\n:::\n\n:::\n\nPour commencer, ajoutons des informations en haut de notre script :\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ateliers codons\n# 01 - Premiers pas avec R\n# 2022-11-07\n```\n:::\n\n\n::: {.callout-tip icon=\"true\"}\n## Raccourcis clavier : commentaires\n\nPour commenter ou dé-commenter une ligne de code, utilisez la combinaison **Ctrl + Shift + C**.\n:::\n\nLe jeu de données que nous allons utiliser contient des mesures pour [trois espèces de pingouins vivant sur l'archipel Palmer en Antarctique](https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0090081).\n\nPour importer ces données, nous allons faire appel à la **fonction `read.csv()`** qui, comme son nom l'indique, permet de lire un fichier au format *.csv*. Une fonction permet d'exécuter une action comme calculer une somme, importer ou exporter un fichier.\n\nToutes les fonctions s'utilisent de la même façon :\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfonction(x, arguments)\n```\n:::\n\n\n-   un appel à la fonction en tapant son nom\n\nEntre **parenthèses** :\n\n-   les données sur lesquelles appliquer la fonction (**x**)\\\n-   les **arguments**, obligatoires ou optionnels, qui vont modifier la manière dont la fonction sera exécutée.\n\nVoyons ce que fait la fonction `read.csv()`. Nous allons préciser deux arguments :\n\n-   le chemin vers le fichier à importer, **entre guillemets** :`\"raw/pingouins.csv\"`\\\n-   l'argument `check.names = FALSE` pour garder les noms de colonnes tels quels.\n\nTapez le code suivant dans la console et appuyez sur **Entrée** :\n\n\n::: {.cell}\n\n```{.r .cell-code}\nread.csv(file = \"raw/pingouins.csv\", check.names = FALSE)\n```\n:::\n\n::: {.cell}\n\n:::\n\n\n![](img/rstudio_20.png){width=\"100%\"}\n\n::: {.callout-caution icon=\"true\"}\n## Bonne pratiques : auto-complétion\n\nR vous aide à compléter votre code : tapez `re` puis **Tab**, et vous verrez s'afficher une liste de fonctions ou d'objets commençant par ces deux lettres. Vous pouvez naviguer à l'aide des flèches haut et bas et valider votre choix en appuyant à nouveau sur **Tab**. Cette fonctionnalité de R est particulièrement utile lorsque vous manipulez des fichiers ou objets ayant des noms complexes.\n:::\n\nLe fichier a effectivement été importé dans R, mais il n'est pour l'instant pas stocké dans notre environnement. Nous allons pour cela stocker le contenu du fichier dans un objet à l'aide de la **flèche d'assignation `<-`**. Placez-vous dans votre script et tapez le code suivant :\n\n\n::: {.cell}\n\n```{.r .cell-code}\npingouins <- read.csv(file = \"raw/pingouins.csv\", check.names = FALSE)\n```\n:::\n\n\n::: {.callout-tip icon=\"true\"}\n## Raccourcis clavier : flèche d'assignation\n\nPour insérer une flèche d'assignation, utilisez la combinaison **Alt + \"-\"** (tiret du 6).\n:::\n\nExécutez cette fonction en plaçant le curseur sur la ligne et en cliquant sur **Run** :\n\n![](img/rstudio_11.png){width=\"100%\"}\n\n::: {.callout-tip icon=\"true\"}\n## Raccourcis clavier : exécuter du code\n\nPour exécuter une ou plusieurs lignes de code, sélectionnez les lignes et utilisez la combinaison **Ctrl + Entrée**\n:::\n\nNotre environnement contient maintenant un objet **pingouins**, et vous pouvez voir l'indication `344 obs. of 9 variables` : le jeu de données contient 344 observations (lignes) et 9 variables (colonnes).\n\n![](img/rstudio_12.png){width=\"100%\"}\n\nEn cliquant sur la flèche bleue à gauche du nom de l'objet, vous aurez accès à plus d'informations :\n\n![](img/rstudio_13.png){width=\"100%\"}\n\n-   **Noms des variables** : le tableau contient 9 variables dont les noms sont précédés du signe **\\$**.\n\n::: {.callout-tip icon=\"true\"}\n## L'opérateur **\\$**\n\nCet opérateur permet de sélectionner la colonne d'un tableau. Dans la console, tapez `pingouins$` et appuyez sur **Tab**.\n\n![](img/rstudio_15.png){width=\"100%\"} Vous pouvez choisir la variable qui vous intéresse à l'aide des **flèches haut et bas** (*Espece* par exemple) puis appuyer à nouveau sur **Tab** pour valider. Vous verrez alors s'afficher les 344 observations de cette variable. ![](img/rstudio_16.png){width=\"100%\"}\n:::\n\n-   **Types des variables** : indique s'il s'agit d'une variable de type **caractère (`chr`)**, d'une variable contenant des **nombres entiers (`int`)** ou des **nombres décimaux (`num`)**. Une variable peut également être de type **logique (`log`)** (*TRUE* ou *FALSE*).\n\n-   **Premiers éléments de chaque variable**.\n\nVous pouvez afficher le tableau en cliquant sur l'icône à droite du nom de l'objet dans l'environnement :\n\n![](img/rstudio_14.png){width=\"100%\"}\n\nCela ouvre un nouvel onglet à côté de de votre script :\n\n![](img/rstudio_17.png){width=\"100%\"}\n\nAvant d'aller plus loin, sauvegardez votre script en cliquant sur l'icône disquette en haut de votre script :\n\n![](img/rstudio_18.png){width=\"100%\"}\n\nChoisissez le dossier où sera sauvegardé votre script - **scripts** dans notre cas, et nommez votre script puis cliquez sur **Save** :\n\n![](img/rstudio_19.png){width=\"100%\"}\n\n::: {.callout-tip icon=\"true\"}\n## Raccourcis clavier : sauvegarder un script\n\nPour sauvegarder un script, uilisez la combinaison **Ctrl + S**\n:::\n\n# Explorer les données\n\nUne des premières choses à faire est de vous assurer que vos données ont été correctement importées. Les outils proposés par R vous permettent d'effectuer des analyses, mais c'est à vous de vous assurer que vos données sont au bon format.\n\nPour cette étape d'exploration des données, vous pouvez taper le code directement dans la console.\n\nPlusieurs fonctions vous permettent d'explorer rapidement vos données :\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Afficher les premieres lignes du tableau\nhead(pingouins)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  etudeNumero Echantillon Numero                              Espece       Ile\n1     PAL0708                  1 Adelie Penguin (Pygoscelis adeliae) Torgersen\n2     PAL0708                  2 Adelie Penguin (Pygoscelis adeliae) Torgersen\n3     PAL0708                  3 Adelie Penguin (Pygoscelis adeliae) Torgersen\n4     PAL0708                  4 Adelie Penguin (Pygoscelis adeliae) Torgersen\n5     PAL0708                  5 Adelie Penguin (Pygoscelis adeliae) Torgersen\n6     PAL0708                  6 Adelie Penguin (Pygoscelis adeliae) Torgersen\n  ID Individu Longueur Bec (mm) Hauteur Bec (mm) Longueur Aile (mm)\n1        N1A1              39.1             18.7                181\n2        N1A2              39.5             17.4                186\n3        N2A1              40.3             18.0                195\n4        N2A2                NA               NA                 NA\n5        N3A1              36.7             19.3                193\n6        N3A2              39.3             20.6                190\n  Masse corporelle (g)\n1                 3750\n2                 3800\n3                 3250\n4                   NA\n5                 3450\n6                 3650\n```\n:::\n\n```{.r .cell-code}\n# Afficher les dernieres lignes du tableau\ntail(pingouins)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    etudeNumero Echantillon Numero                                    Espece\n339     PAL0910                 63 Chinstrap penguin (Pygoscelis antarctica)\n340     PAL0910                 64 Chinstrap penguin (Pygoscelis antarctica)\n341     PAL0910                 65 Chinstrap penguin (Pygoscelis antarctica)\n342     PAL0910                 66 Chinstrap penguin (Pygoscelis antarctica)\n343     PAL0910                 67 Chinstrap penguin (Pygoscelis antarctica)\n344     PAL0910                 68 Chinstrap penguin (Pygoscelis antarctica)\n      Ile ID Individu Longueur Bec (mm) Hauteur Bec (mm) Longueur Aile (mm)\n339 Dream       N98A1              45.7             17.0                195\n340 Dream       N98A2              55.8             19.8                207\n341 Dream       N99A1              43.5             18.1                202\n342 Dream       N99A2              49.6             18.2                193\n343 Dream      N100A1              50.8             19.0                210\n344 Dream      N100A2              50.2             18.7                198\n    Masse corporelle (g)\n339                 3650\n340                 4000\n341                 3400\n342                 3775\n343                 4100\n344                 3775\n```\n:::\n\n```{.r .cell-code}\n# Afficher la structure du tableau\nstr(pingouins)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t344 obs. of  9 variables:\n $ etudeNumero         : chr  \"PAL0708\" \"PAL0708\" \"PAL0708\" \"PAL0708\" ...\n $ Echantillon Numero  : int  1 2 3 4 5 6 7 8 9 10 ...\n $ Espece              : chr  \"Adelie Penguin (Pygoscelis adeliae)\" \"Adelie Penguin (Pygoscelis adeliae)\" \"Adelie Penguin (Pygoscelis adeliae)\" \"Adelie Penguin (Pygoscelis adeliae)\" ...\n $ Ile                 : chr  \"Torgersen\" \"Torgersen\" \"Torgersen\" \"Torgersen\" ...\n $ ID Individu         : chr  \"N1A1\" \"N1A2\" \"N2A1\" \"N2A2\" ...\n $ Longueur Bec (mm)   : num  39.1 39.5 40.3 NA 36.7 39.3 38.9 39.2 34.1 42 ...\n $ Hauteur Bec (mm)    : num  18.7 17.4 18 NA 19.3 20.6 17.8 19.6 18.1 20.2 ...\n $ Longueur Aile (mm)  : int  181 186 195 NA 193 190 181 195 193 190 ...\n $ Masse corporelle (g): int  3750 3800 3250 NA 3450 3650 3625 4675 3475 4250 ...\n```\n:::\n:::\n\n\nVous remarquerez que la fonction `str(pingouins)` affiche des informations très proches de celles obtenues en cliquant sur la flèche bleue à gauche de l'objet pingouins dans l'environnement.\n\n::: {.callout-tip icon=\"true\"}\n## Afficher l'aide d'une fonction\n\nVous pouvez afficher l'aide d'une fonction de deux manières :\\\n- taper `help(fonction)` (pensez à l'auto-complétion !) - taper `?fonction`\n\nEssayez en tapant dans la console `?he` puis appuyez sur **Tab** : R vous propose une liste de fonctions commençant par **he**. Utilisez les flèches haut et bas pour choisir la fonction **head**. Une petite fenêtre vous donne un aperçu du contenu de l'aide pour la fonction (utile quand vous hésitez entre plusieurs fonctions). Une fois la fonction sélectionnée, appuyez sur la touche **F1** pour afficher l'aide complète dans l'onglet **Help**.\n\nL'aide d'une fonction contient plusieurs paragraphes :\n\n-   une **description** de la fonction\\\n-   **comment utiliser** la fonction\\\n-   les **arguments** de la fonction\\\n-   les **détails** de la fonction (quel type de données en entrée, des précisions sur les arguments, ...)\\\n-   ce que la fonction retourne en **sortie**\\\n-   des **notes** additionnelles\\\n-   les **auteurs** qui ont contribué à l'écriture du code de la fonction\\\n-   des **exemples** sur l'utilisation de la fonction (avec possibilité d'exécuter ces exemples)\n\nDans le cas de `head()`, vous pouvez voir que par défaut, la fonction retournera les 6 premières lignes (`n = 6L`, **L** indiquant qu'il s'agit d'un nombre entier). Pour afficher uniquement les deux premières lignes du tableau *pingouins*, il vous faudrait modifier cet argument : `head(pingouins, n = 2L)`\n:::\n\nVous pouvez explorer une variable d'intérêt :\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Afficher les premiers elements d'une variable\nhead(pingouins$`Masse corporelle (g)`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 3750 3800 3250   NA 3450 3650\n```\n:::\n\n```{.r .cell-code}\n# Afficher les derniers elements d'une variable\ntail(pingouins$`Masse corporelle (g)`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 3650 4000 3400 3775 4100 3775\n```\n:::\n\n```{.r .cell-code}\n# Afficher le type, le nombre d'elements et les premiers elements d'une variable\nstr(pingouins$`Masse corporelle (g)`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n int [1:344] 3750 3800 3250 NA 3450 3650 3625 4675 3475 4250 ...\n```\n:::\n\n```{.r .cell-code}\n# Afficher le type de variable\ntypeof(pingouins$`Masse corporelle (g)`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"integer\"\n```\n:::\n:::\n\n\n::: {.callout-tip icon=\"true\"}\n## Les données manquantes\n\nSi vous tapez `head(pingouins$`Masse corporelle (g)`)` dans la console, vous verrez un élément **NA**. Il s'agit d'une donnée manquante (**Not Available**) : aucune mesure n'a été relevée chez cet individu pour cette variable.\n\nCette valeur **NA** est à différencier de la valeur **NaN (Not a Number)** également rencontrée dans R. Il s'agit alors du résultat d'une opération arithmétique invalide, telle que 0/0.\n:::\n\nLa fonction `dim(pingouins)` permet d'afficher les **dimensions** du tableau (**m lignes** et **n colonnes**).\n\n# Manipuler des données\n\n## Transformer un vecteur en un facteur\n\nLa fonction `summary(pingouins)` est particulièrement intéressante pour avoir une vue d'ensemble de vos données.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(pingouins)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n etudeNumero        Echantillon Numero    Espece              Ile           \n Length:344         Min.   :  1.00     Length:344         Length:344        \n Class :character   1st Qu.: 29.00     Class :character   Class :character  \n Mode  :character   Median : 58.00     Mode  :character   Mode  :character  \n                    Mean   : 63.15                                          \n                    3rd Qu.: 95.25                                          \n                    Max.   :152.00                                          \n                                                                            \n ID Individu        Longueur Bec (mm) Hauteur Bec (mm) Longueur Aile (mm)\n Length:344         Min.   :32.10     Min.   :13.10    Min.   :172.0     \n Class :character   1st Qu.:39.23     1st Qu.:15.60    1st Qu.:190.0     \n Mode  :character   Median :44.45     Median :17.30    Median :197.0     \n                    Mean   :43.92     Mean   :17.15    Mean   :200.9     \n                    3rd Qu.:48.50     3rd Qu.:18.70    3rd Qu.:213.0     \n                    Max.   :59.60     Max.   :21.50    Max.   :231.0     \n                    NA's   :2         NA's   :2        NA's   :2         \n Masse corporelle (g)\n Min.   :2700        \n 1st Qu.:3550        \n Median :4050        \n Mean   :4202        \n 3rd Qu.:4750        \n Max.   :6300        \n NA's   :2           \n```\n:::\n:::\n\n\n![](img/rstudio_22.png){width=\"100%\"}\n\nLes informations affichées à l'aide de cette fonction dépendent du type de variable :\n\n-   **nombre d'éléments** pour les variables de type **caractère**\\\n-   **statistiques** pour les variables de type **numérique**\n\nIl peut arriver que certaines variables soient mal catégorisées. Les deux cas de figure les plus répandus sont les suivants :\n\n-   les catégories d'une variable sont représentées par des valeurs numériques et R considère cette variable comme étant numérique (par exemple *Echantillon Numero*)\\\n-   les catégories d'une variable ne sont pas prises en compte et R considère cette variable comme étant simplement une chaîne de caractères (par exemple **Espece** et **Ile**) ou de valeurs numériques.\n\n::: {.callout-tip icon=\"true\"}\n## Vecteurs et facteurs\n\nOn désigne par **vecteur** un objet uni-dimensionnel contenant des éléments d'un seul type (caractères, valeurs numériques ou logiques). Un tableau est constitué de vecteurs situés dans les colonnes.\n\nUn **facteur** est un vecteur dont les éléments peuvent être regroupés en catégories (on parle de **niveaux**).\n:::\n\nSi vous ne connaissez pas dans le détail votre jeu de données, vous pouvez avoir une idée de sa structure sous-jacente en comptant le nombre d'éléments uniques des différentes variables à l'aide des fonctions `unique()` et `length()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Extraire les elements uniques d'une variable\nunique(pingouins$Espece)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Adelie Penguin (Pygoscelis adeliae)\"      \n[2] \"Gentoo penguin (Pygoscelis papua)\"        \n[3] \"Chinstrap penguin (Pygoscelis antarctica)\"\n```\n:::\n\n```{.r .cell-code}\n# Compter le nombre d'elements uniques d'une variable\nlength(unique(pingouins$Espece))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 3\n```\n:::\n:::\n\n\nLa fonction `unique()` affiche les éléments uniques d'une variable par ordre d'apparition.\n\nLa fonction `as.factor()` permet de transformer un vecteur en facteur. Par défaut, les niveaux sont triés par ordre alphabétique. Si vous le souhaitez, vous pouvez préciser manuellement l'ordre souhaité pour ces niveaux à l'aide de l'argument `levels`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Transformer un vecteur en facteur\npingouins$`Echantillon Numero` <- as.factor(pingouins$`Echantillon Numero`)\npingouins$Espece <- as.factor(pingouins$Espece)\npingouins$Ile <- as.factor(pingouins$Ile)\n```\n:::\n\n\nVérifiez que les corrections apportées aient bien été appliquées au jeu de données :\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(pingouins)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n etudeNumero        Echantillon Numero\n Length:344         1      :  3       \n Class :character   2      :  3       \n Mode  :character   3      :  3       \n                    4      :  3       \n                    5      :  3       \n                    6      :  3       \n                    (Other):326       \n                                       Espece           Ile     \n Adelie Penguin (Pygoscelis adeliae)      :152   Biscoe   :168  \n Chinstrap penguin (Pygoscelis antarctica): 68   Dream    :124  \n Gentoo penguin (Pygoscelis papua)        :124   Torgersen: 52  \n                                                                \n                                                                \n                                                                \n                                                                \n ID Individu        Longueur Bec (mm) Hauteur Bec (mm) Longueur Aile (mm)\n Length:344         Min.   :32.10     Min.   :13.10    Min.   :172.0     \n Class :character   1st Qu.:39.23     1st Qu.:15.60    1st Qu.:190.0     \n Mode  :character   Median :44.45     Median :17.30    Median :197.0     \n                    Mean   :43.92     Mean   :17.15    Mean   :200.9     \n                    3rd Qu.:48.50     3rd Qu.:18.70    3rd Qu.:213.0     \n                    Max.   :59.60     Max.   :21.50    Max.   :231.0     \n                    NA's   :2         NA's   :2        NA's   :2         \n Masse corporelle (g)\n Min.   :2700        \n 1st Qu.:3550        \n Median :4050        \n Mean   :4202        \n 3rd Qu.:4750        \n Max.   :6300        \n NA's   :2           \n```\n:::\n:::\n\n\n![](img/rstudio_23.png){width=\"100%\"}\n\n::: {.callout-caution icon=\"true\"}\n## Bonne pratiques : structurer son script\n\nVotre script commence à être bien fourni. Vous pouvez le diviser en différentes parties pour simplifier la lecture. Pour cela, ajoutez des titres sous forme de commentaires et accolez des tirets (au moins quatre) pour signaler à R qu'il s'agit de divisions dans votre script.\n\n![](img/rstudio_24.png){width=\"100%\"}\n\nEn cliquant sur l'icône **Menu** à droite vous aurez accès à une table des matières dans laquelle vous pourrez naviguer en cliquant sur la partie qui vous intéresse.\n\n![](img/rstudio_25.png){width=\"100%\"}\n:::\n\n::: {.callout-tip icon=\"true\"}\n## Raccourcis clavier : les sections d'un script\n\nPour afficher le sommaire de votre script, utilisez la combinaison **Ctrl + Shift + O**.\\\nVous pouvez également replier (**Alt + O**) ou déplier (**Alt + Shift + O**) les sections.\n:::\n\n## Extraire des données\n\nNotre jeu de données contient les mesures de différents paramètres pour trois espèces de pingouins. Nous aimerions séparer ce jeu de données en trois tableaux, un pour chacune des espèces.\n\n::: {.callout-tip icon=\"true\"}\n## Sélectionner des données\n\nDans R, la sélection de données, que ce soit une cellule, une ligne ou une colonne d'un tableau, ou encore un élément dans une chaîne, s'effectue à l'aide des **crochets \\[\\]**.\n\n-   Dans le cas d'un objet à **deux dimensions**, la sélection s'effectue en précisant deux paramètres séparés par une virgule : la ou les ligne(s) et la ou les colonne(s). Pour sélectionner l'ensemble d'une des deux dimensions, on utilise un espace vide d'un côté ou de l'autre de la virgule. Pour sélectionner plusieurs lignes ou colonnes, vous pouvez utiliser soit l'opérateur `:` si les lignes ou les colonnes se suivent, soit l'opérateur de concaténation `c()` (vous pouvez combiner les deux).\n\n-   Pour un objet à **une seule dimension**, un seul paramètre est nécessaire (de la même façon, vous pouvez combiner les éléments avec les opérateurs `:` et `c()`) :\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Selectionner la 3e ligne et la 5e colonne : \npingouins[3, 5]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"N2A1\"\n```\n:::\n\n```{.r .cell-code}\n# Selectionner la 3e ligne : \npingouins[3, ]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  etudeNumero Echantillon Numero                              Espece       Ile\n3     PAL0708                  3 Adelie Penguin (Pygoscelis adeliae) Torgersen\n  ID Individu Longueur Bec (mm) Hauteur Bec (mm) Longueur Aile (mm)\n3        N2A1              40.3               18                195\n  Masse corporelle (g)\n3                 3250\n```\n:::\n\n```{.r .cell-code}\n# Selectionner la 5e colonne : \npingouins[, 5]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  [1] \"N1A1\"   \"N1A2\"   \"N2A1\"   \"N2A2\"   \"N3A1\"   \"N3A2\"   \"N4A1\"   \"N4A2\"  \n  [9] \"N5A1\"   \"N5A2\"   \"N6A1\"   \"N6A2\"   \"N7A1\"   \"N7A2\"   \"N8A1\"   \"N8A2\"  \n [17] \"N9A1\"   \"N9A2\"   \"N10A1\"  \"N10A2\"  \"N11A1\"  \"N11A2\"  \"N12A1\"  \"N12A2\" \n [25] \"N13A1\"  \"N13A2\"  \"N17A1\"  \"N17A2\"  \"N18A1\"  \"N18A2\"  \"N21A1\"  \"N21A2\" \n [33] \"N22A1\"  \"N22A2\"  \"N23A1\"  \"N23A2\"  \"N24A1\"  \"N24A2\"  \"N25A1\"  \"N25A2\" \n [41] \"N26A1\"  \"N26A2\"  \"N27A1\"  \"N27A2\"  \"N28A1\"  \"N28A2\"  \"N29A1\"  \"N29A2\" \n [49] \"N30A1\"  \"N30A2\"  \"N21A1\"  \"N21A2\"  \"N22A1\"  \"N22A2\"  \"N23A1\"  \"N23A2\" \n [57] \"N24A1\"  \"N24A2\"  \"N25A1\"  \"N25A2\"  \"N27A1\"  \"N27A2\"  \"N28A1\"  \"N28A2\" \n [65] \"N29A1\"  \"N29A2\"  \"N30A1\"  \"N30A2\"  \"N32A1\"  \"N32A2\"  \"N34A1\"  \"N34A2\" \n [73] \"N35A1\"  \"N35A2\"  \"N36A1\"  \"N36A2\"  \"N37A1\"  \"N37A2\"  \"N38A1\"  \"N38A2\" \n [81] \"N39A1\"  \"N39A2\"  \"N40A1\"  \"N40A2\"  \"N41A1\"  \"N41A2\"  \"N42A1\"  \"N42A2\" \n [89] \"N44A1\"  \"N44A2\"  \"N45A1\"  \"N45A2\"  \"N46A1\"  \"N46A2\"  \"N48A1\"  \"N48A2\" \n [97] \"N49A1\"  \"N49A2\"  \"N50A1\"  \"N50A2\"  \"N47A1\"  \"N47A2\"  \"N49A1\"  \"N49A2\" \n[105] \"N51A1\"  \"N51A2\"  \"N53A1\"  \"N53A2\"  \"N55A1\"  \"N55A2\"  \"N58A1\"  \"N58A2\" \n[113] \"N60A1\"  \"N60A2\"  \"N61A1\"  \"N61A2\"  \"N63A1\"  \"N63A2\"  \"N64A1\"  \"N64A2\" \n[121] \"N66A1\"  \"N66A2\"  \"N67A1\"  \"N67A2\"  \"N69A1\"  \"N69A2\"  \"N71A1\"  \"N71A2\" \n[129] \"N72A1\"  \"N72A2\"  \"N73A1\"  \"N73A2\"  \"N76A1\"  \"N76A2\"  \"N77A1\"  \"N77A2\" \n[137] \"N78A1\"  \"N78A2\"  \"N79A1\"  \"N79A2\"  \"N80A1\"  \"N80A2\"  \"N81A1\"  \"N81A2\" \n[145] \"N82A1\"  \"N82A2\"  \"N83A1\"  \"N83A2\"  \"N84A1\"  \"N84A2\"  \"N85A1\"  \"N85A2\" \n[153] \"N31A1\"  \"N31A2\"  \"N32A1\"  \"N32A2\"  \"N33A1\"  \"N33A2\"  \"N34A1\"  \"N34A2\" \n[161] \"N35A1\"  \"N35A2\"  \"N36A1\"  \"N36A2\"  \"N37A1\"  \"N37A2\"  \"N38A1\"  \"N38A2\" \n[169] \"N39A1\"  \"N39A2\"  \"N40A1\"  \"N40A2\"  \"N41A1\"  \"N41A2\"  \"N42A1\"  \"N42A2\" \n[177] \"N44A1\"  \"N44A2\"  \"N46A1\"  \"N46A2\"  \"N47A1\"  \"N47A2\"  \"N50A1\"  \"N50A2\" \n[185] \"N56A1\"  \"N56A2\"  \"N2A1\"   \"N2A2\"   \"N4A1\"   \"N4A2\"   \"N5A1\"   \"N5A2\"  \n[193] \"N6A1\"   \"N6A2\"   \"N7A1\"   \"N7A2\"   \"N8A1\"   \"N8A2\"   \"N11A1\"  \"N11A2\" \n[201] \"N12A1\"  \"N12A2\"  \"N13A1\"  \"N13A2\"  \"N14A1\"  \"N14A2\"  \"N15A1\"  \"N15A2\" \n[209] \"N16A1\"  \"N16A2\"  \"N17A1\"  \"N17A2\"  \"N18A1\"  \"N18A2\"  \"N19A1\"  \"N19A2\" \n[217] \"N20A1\"  \"N20A2\"  \"N51A1\"  \"N51A2\"  \"N53A1\"  \"N53A2\"  \"N54A1\"  \"N54A2\" \n[225] \"N55A1\"  \"N55A2\"  \"N56A1\"  \"N56A2\"  \"N58A1\"  \"N58A2\"  \"N60A1\"  \"N60A2\" \n[233] \"N1A1\"   \"N1A2\"   \"N6A1\"   \"N6A2\"   \"N8A1\"   \"N8A2\"   \"N13A1\"  \"N13A2\" \n[241] \"N14A1\"  \"N14A2\"  \"N15A1\"  \"N15A2\"  \"N18A1\"  \"N18A2\"  \"N19A1\"  \"N19A2\" \n[249] \"N20A1\"  \"N20A2\"  \"N21A1\"  \"N21A2\"  \"N22A1\"  \"N22A2\"  \"N23A1\"  \"N23A2\" \n[257] \"N24A1\"  \"N24A2\"  \"N28A1\"  \"N28A2\"  \"N29A1\"  \"N29A2\"  \"N32A1\"  \"N32A2\" \n[265] \"N34A1\"  \"N34A2\"  \"N35A1\"  \"N35A2\"  \"N36A1\"  \"N36A2\"  \"N38A1\"  \"N38A2\" \n[273] \"N39A1\"  \"N39A2\"  \"N43A1\"  \"N43A2\"  \"N61A1\"  \"N61A2\"  \"N62A1\"  \"N62A2\" \n[281] \"N64A1\"  \"N64A2\"  \"N66A1\"  \"N66A2\"  \"N67A1\"  \"N67A2\"  \"N68A1\"  \"N68A2\" \n[289] \"N69A1\"  \"N69A2\"  \"N70A1\"  \"N70A2\"  \"N71A1\"  \"N71A2\"  \"N72A1\"  \"N72A2\" \n[297] \"N73A1\"  \"N73A2\"  \"N85A1\"  \"N85A2\"  \"N89A1\"  \"N89A2\"  \"N61A1\"  \"N61A2\" \n[305] \"N62A1\"  \"N62A2\"  \"N63A1\"  \"N63A2\"  \"N65A1\"  \"N65A2\"  \"N67A1\"  \"N67A2\" \n[313] \"N69A1\"  \"N69A2\"  \"N72A1\"  \"N72A2\"  \"N74A1\"  \"N74A2\"  \"N75A1\"  \"N75A2\" \n[321] \"N86A1\"  \"N86A2\"  \"N87A1\"  \"N87A2\"  \"N88A1\"  \"N88A2\"  \"N90A1\"  \"N90A2\" \n[329] \"N92A1\"  \"N92A2\"  \"N93A1\"  \"N93A2\"  \"N94A1\"  \"N94A2\"  \"N95A1\"  \"N95A2\" \n[337] \"N96A1\"  \"N96A2\"  \"N98A1\"  \"N98A2\"  \"N99A1\"  \"N99A2\"  \"N100A1\" \"N100A2\"\n```\n:::\n\n```{.r .cell-code}\n# Selectionner les lignes 40 à 45 : \npingouins[40:45, ]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   etudeNumero Echantillon Numero                              Espece   Ile\n40     PAL0708                 40 Adelie Penguin (Pygoscelis adeliae) Dream\n41     PAL0708                 41 Adelie Penguin (Pygoscelis adeliae) Dream\n42     PAL0708                 42 Adelie Penguin (Pygoscelis adeliae) Dream\n43     PAL0708                 43 Adelie Penguin (Pygoscelis adeliae) Dream\n44     PAL0708                 44 Adelie Penguin (Pygoscelis adeliae) Dream\n45     PAL0708                 45 Adelie Penguin (Pygoscelis adeliae) Dream\n   ID Individu Longueur Bec (mm) Hauteur Bec (mm) Longueur Aile (mm)\n40       N25A2              39.8             19.1                184\n41       N26A1              36.5             18.0                182\n42       N26A2              40.8             18.4                195\n43       N27A1              36.0             18.5                186\n44       N27A2              44.1             19.7                196\n45       N28A1              37.0             16.9                185\n   Masse corporelle (g)\n40                 4650\n41                 3150\n42                 3900\n43                 3100\n44                 4400\n45                 3000\n```\n:::\n\n```{.r .cell-code}\n# Selectionner les colonnes 2 et 4 : \npingouins[, c(2, 4)]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    Echantillon Numero       Ile\n1                    1 Torgersen\n2                    2 Torgersen\n3                    3 Torgersen\n4                    4 Torgersen\n5                    5 Torgersen\n6                    6 Torgersen\n7                    7 Torgersen\n8                    8 Torgersen\n9                    9 Torgersen\n10                  10 Torgersen\n11                  11 Torgersen\n12                  12 Torgersen\n13                  13 Torgersen\n14                  14 Torgersen\n15                  15 Torgersen\n16                  16 Torgersen\n17                  17 Torgersen\n18                  18 Torgersen\n19                  19 Torgersen\n20                  20 Torgersen\n21                  21    Biscoe\n22                  22    Biscoe\n23                  23    Biscoe\n24                  24    Biscoe\n25                  25    Biscoe\n26                  26    Biscoe\n27                  27    Biscoe\n28                  28    Biscoe\n29                  29    Biscoe\n30                  30    Biscoe\n31                  31     Dream\n32                  32     Dream\n33                  33     Dream\n34                  34     Dream\n35                  35     Dream\n36                  36     Dream\n37                  37     Dream\n38                  38     Dream\n39                  39     Dream\n40                  40     Dream\n41                  41     Dream\n42                  42     Dream\n43                  43     Dream\n44                  44     Dream\n45                  45     Dream\n46                  46     Dream\n47                  47     Dream\n48                  48     Dream\n49                  49     Dream\n50                  50     Dream\n51                  51    Biscoe\n52                  52    Biscoe\n53                  53    Biscoe\n54                  54    Biscoe\n55                  55    Biscoe\n56                  56    Biscoe\n57                  57    Biscoe\n58                  58    Biscoe\n59                  59    Biscoe\n60                  60    Biscoe\n61                  61    Biscoe\n62                  62    Biscoe\n63                  63    Biscoe\n64                  64    Biscoe\n65                  65    Biscoe\n66                  66    Biscoe\n67                  67    Biscoe\n68                  68    Biscoe\n69                  69 Torgersen\n70                  70 Torgersen\n71                  71 Torgersen\n72                  72 Torgersen\n73                  73 Torgersen\n74                  74 Torgersen\n75                  75 Torgersen\n76                  76 Torgersen\n77                  77 Torgersen\n78                  78 Torgersen\n79                  79 Torgersen\n80                  80 Torgersen\n81                  81 Torgersen\n82                  82 Torgersen\n83                  83 Torgersen\n84                  84 Torgersen\n85                  85     Dream\n86                  86     Dream\n87                  87     Dream\n88                  88     Dream\n89                  89     Dream\n90                  90     Dream\n91                  91     Dream\n92                  92     Dream\n93                  93     Dream\n94                  94     Dream\n95                  95     Dream\n96                  96     Dream\n97                  97     Dream\n98                  98     Dream\n99                  99     Dream\n100                100     Dream\n101                101    Biscoe\n102                102    Biscoe\n103                103    Biscoe\n104                104    Biscoe\n105                105    Biscoe\n106                106    Biscoe\n107                107    Biscoe\n108                108    Biscoe\n109                109    Biscoe\n110                110    Biscoe\n111                111    Biscoe\n112                112    Biscoe\n113                113    Biscoe\n114                114    Biscoe\n115                115    Biscoe\n116                116    Biscoe\n117                117 Torgersen\n118                118 Torgersen\n119                119 Torgersen\n120                120 Torgersen\n121                121 Torgersen\n122                122 Torgersen\n123                123 Torgersen\n124                124 Torgersen\n125                125 Torgersen\n126                126 Torgersen\n127                127 Torgersen\n128                128 Torgersen\n129                129 Torgersen\n130                130 Torgersen\n131                131 Torgersen\n132                132 Torgersen\n133                133     Dream\n134                134     Dream\n135                135     Dream\n136                136     Dream\n137                137     Dream\n138                138     Dream\n139                139     Dream\n140                140     Dream\n141                141     Dream\n142                142     Dream\n143                143     Dream\n144                144     Dream\n145                145     Dream\n146                146     Dream\n147                147     Dream\n148                148     Dream\n149                149     Dream\n150                150     Dream\n151                151     Dream\n152                152     Dream\n153                  1    Biscoe\n154                  2    Biscoe\n155                  3    Biscoe\n156                  4    Biscoe\n157                  5    Biscoe\n158                  6    Biscoe\n159                  7    Biscoe\n160                  8    Biscoe\n161                  9    Biscoe\n162                 10    Biscoe\n163                 11    Biscoe\n164                 12    Biscoe\n165                 13    Biscoe\n166                 14    Biscoe\n167                 15    Biscoe\n168                 16    Biscoe\n169                 17    Biscoe\n170                 18    Biscoe\n171                 19    Biscoe\n172                 20    Biscoe\n173                 21    Biscoe\n174                 22    Biscoe\n175                 23    Biscoe\n176                 24    Biscoe\n177                 25    Biscoe\n178                 26    Biscoe\n179                 27    Biscoe\n180                 28    Biscoe\n181                 29    Biscoe\n182                 30    Biscoe\n183                 31    Biscoe\n184                 32    Biscoe\n185                 33    Biscoe\n186                 34    Biscoe\n187                 35    Biscoe\n188                 36    Biscoe\n189                 37    Biscoe\n190                 38    Biscoe\n191                 39    Biscoe\n192                 40    Biscoe\n193                 41    Biscoe\n194                 42    Biscoe\n195                 43    Biscoe\n196                 44    Biscoe\n197                 45    Biscoe\n198                 46    Biscoe\n199                 47    Biscoe\n200                 48    Biscoe\n201                 49    Biscoe\n202                 50    Biscoe\n203                 51    Biscoe\n204                 52    Biscoe\n205                 53    Biscoe\n206                 54    Biscoe\n207                 55    Biscoe\n208                 56    Biscoe\n209                 57    Biscoe\n210                 58    Biscoe\n211                 59    Biscoe\n212                 60    Biscoe\n213                 61    Biscoe\n214                 62    Biscoe\n215                 63    Biscoe\n216                 64    Biscoe\n217                 65    Biscoe\n218                 66    Biscoe\n219                 67    Biscoe\n220                 68    Biscoe\n221                 69    Biscoe\n222                 70    Biscoe\n223                 71    Biscoe\n224                 72    Biscoe\n225                 73    Biscoe\n226                 74    Biscoe\n227                 75    Biscoe\n228                 76    Biscoe\n229                 77    Biscoe\n230                 78    Biscoe\n231                 79    Biscoe\n232                 80    Biscoe\n233                 81    Biscoe\n234                 82    Biscoe\n235                 83    Biscoe\n236                 84    Biscoe\n237                 85    Biscoe\n238                 86    Biscoe\n239                 87    Biscoe\n240                 88    Biscoe\n241                 89    Biscoe\n242                 90    Biscoe\n243                 91    Biscoe\n244                 92    Biscoe\n245                 93    Biscoe\n246                 94    Biscoe\n247                 95    Biscoe\n248                 96    Biscoe\n249                 97    Biscoe\n250                 98    Biscoe\n251                 99    Biscoe\n252                100    Biscoe\n253                101    Biscoe\n254                102    Biscoe\n255                103    Biscoe\n256                104    Biscoe\n257                105    Biscoe\n258                106    Biscoe\n259                107    Biscoe\n260                108    Biscoe\n261                109    Biscoe\n262                110    Biscoe\n263                111    Biscoe\n264                112    Biscoe\n265                113    Biscoe\n266                114    Biscoe\n267                115    Biscoe\n268                116    Biscoe\n269                117    Biscoe\n270                118    Biscoe\n271                119    Biscoe\n272                120    Biscoe\n273                121    Biscoe\n274                122    Biscoe\n275                123    Biscoe\n276                124    Biscoe\n277                  1     Dream\n278                  2     Dream\n279                  3     Dream\n280                  4     Dream\n281                  5     Dream\n282                  6     Dream\n283                  7     Dream\n284                  8     Dream\n285                  9     Dream\n286                 10     Dream\n287                 11     Dream\n288                 12     Dream\n289                 13     Dream\n290                 14     Dream\n291                 15     Dream\n292                 16     Dream\n293                 17     Dream\n294                 18     Dream\n295                 19     Dream\n296                 20     Dream\n297                 21     Dream\n298                 22     Dream\n299                 23     Dream\n300                 24     Dream\n301                 25     Dream\n302                 26     Dream\n303                 27     Dream\n304                 28     Dream\n305                 29     Dream\n306                 30     Dream\n307                 31     Dream\n308                 32     Dream\n309                 33     Dream\n310                 34     Dream\n311                 35     Dream\n312                 36     Dream\n313                 37     Dream\n314                 38     Dream\n315                 39     Dream\n316                 40     Dream\n317                 41     Dream\n318                 42     Dream\n319                 43     Dream\n320                 44     Dream\n321                 45     Dream\n322                 46     Dream\n323                 47     Dream\n324                 48     Dream\n325                 49     Dream\n326                 50     Dream\n327                 51     Dream\n328                 52     Dream\n329                 53     Dream\n330                 54     Dream\n331                 55     Dream\n332                 56     Dream\n333                 57     Dream\n334                 58     Dream\n335                 59     Dream\n336                 60     Dream\n337                 61     Dream\n338                 62     Dream\n339                 63     Dream\n340                 64     Dream\n341                 65     Dream\n342                 66     Dream\n343                 67     Dream\n344                 68     Dream\n```\n:::\n\n```{.r .cell-code}\n# Selectionner les lignes 50 et 100 à 105 : \npingouins[c(50, 100:105), ]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    etudeNumero Echantillon Numero                              Espece    Ile\n50      PAL0708                 50 Adelie Penguin (Pygoscelis adeliae)  Dream\n100     PAL0809                100 Adelie Penguin (Pygoscelis adeliae)  Dream\n101     PAL0910                101 Adelie Penguin (Pygoscelis adeliae) Biscoe\n102     PAL0910                102 Adelie Penguin (Pygoscelis adeliae) Biscoe\n103     PAL0910                103 Adelie Penguin (Pygoscelis adeliae) Biscoe\n104     PAL0910                104 Adelie Penguin (Pygoscelis adeliae) Biscoe\n105     PAL0910                105 Adelie Penguin (Pygoscelis adeliae) Biscoe\n    ID Individu Longueur Bec (mm) Hauteur Bec (mm) Longueur Aile (mm)\n50        N30A2              42.3             21.2                191\n100       N50A2              43.2             18.5                192\n101       N47A1              35.0             17.9                192\n102       N47A2              41.0             20.0                203\n103       N49A1              37.7             16.0                183\n104       N49A2              37.8             20.0                190\n105       N51A1              37.9             18.6                193\n    Masse corporelle (g)\n50                  4150\n100                 4100\n101                 3725\n102                 4725\n103                 3075\n104                 4250\n105                 2925\n```\n:::\n\n```{.r .cell-code}\n# Selectionner le 45e element de la variable Ile\npingouins$Ile[45]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] Dream\nLevels: Biscoe Dream Torgersen\n```\n:::\n:::\n\n:::\n\nLes noms des espèces étant assez complexes, nous allons commencer par les extraire et les stocker dans un vecteur :\n\n\n::: {.cell}\n\n```{.r .cell-code}\nespeces <- unique(pingouins$Espece)\n```\n:::\n\n\nSéparons maintenant le tableau d'origine en trois tableaux. Pour l'espèce *Adelie*, nous extrayons les lignes du tableau pingouins dont la colonne Espece est égale au premier élément du vecteur especes, etc.\n\n::: {.callout-tip icon=\"true\"}\n## Les opérateurs de comparaison\n\n|       |                     | \n| :---: | :------------------ |\n| ==    | égal                |\n| !=    | différent           |\n| <     | inférieur à         |\n| <=    | inférieur ou égal à |\n| >     | supérieur à         |\n| >=    | supérieur ou égal à |\n| ==    | égal                |\n\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nadelie <- pingouins[pingouins$Espece == especes[1], ]\ngentoo <- pingouins[pingouins$Espece == especes[2], ]\nchinstrap <- pingouins[pingouins$Espece == especes[3], ]\n```\n:::\n\n\nCréons maintenant un vecteur contenant le nombre d'observations pour chaque tableau, à l'aide de la fonction `nrow()` (permet de compter le nombre de ligne d'un tableau) :\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnb_ind <- c(nrow(adelie), nrow(gentoo), nrow(chinstrap))\n```\n:::\n\n\nAjoutons à ce vecteur des étiquettes avec les noms des trois espèces :\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnames(nb_ind) <- especes\n```\n:::\n\n\n![](img/rstudio_25.png){width=\"100%\"}\n\n::: {.callout-tip icon=\"true\"}\n## La fonction `table()`\n\nVous obtiendrez la même chose à l'aide de la commande `table(pingouins$Espece)` (seul l'ordre des espèces varie)\n\n:::\n\n# Représenter des données\n\nNous pouvons représenter visuellement le nombre de pingouins par espèce à l'aide de la fonction `barplot()`. Le graphique s'affichera dans le panneau inférieur droit de RStudio.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbarplot(nb_ind)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n:::\n\n\nVous pouvez voir que plusieurs points peuvent être améliorés :  \n\n- ajuster l'axe des ordonnées pour inclure la valeur maximale  \n- ajuster la taille des étiquettes de l'axe de abscisses pour que les trois noms d'espèces soient lisibles  \n- ajouter un titre à l'axe des ordonnées et au graphique  \n- modifier la couleur des barres\n\nPour trouver comment modifier ces différents paramètres, vous pouvez utiliser l'aide de la fonction (`?barplot`) ou l'aide plus générales pour les graphiques (`?par`).\n\nPour rendre la graphique plus lisible, nous aimerions que le nom des espèces soit situé sur deux lignes. Nous allons pour cela modifier les noms de notre vecteur **nb_ind** à l'aide de la fonction `gsub()`.\nCette fonction permet de remplacer un motif par au autre dans une chaîne et s'utilise de la façon suivante : `gsub(motif a remplacer, motif de remplacer, objet a modifier)` : \n\n\n::: {.cell}\n\n```{.r .cell-code}\nnames(nb_ind) <- gsub(\"(\", \"\\n(\", names(nb_ind), fixed = TRUE)\n```\n:::\n\n\n\nNous allons utiliser les paramètres suivants :  \n\n- **main** pour ajouter un titre au graphique  \n- **ylab** pour ajouter un titre à l'axe des ordonnées  \n- **ylim** pour ajuster l'axe des ordonnées  \n- **cex** pour modifier la taille du texte  \n- **col** pour modifier la couleur des barres\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbarplot(nb_ind,\n        main = \"Trois especes de pingouins vivant en Antarctique\",\n        ylab = \"Nombre d'individus par espece\",\n        ylim = c(0, 200),\n        col = \"blue\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-21-1.png){width=672}\n:::\n:::",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}